function pafeAddressAutocompleteInitMap(){document.querySelectorAll("[data-pafe-form-builder-address-autocomplete]").forEach(function(t,e,i){var a=new google.maps.places.Autocomplete(t),r=t.getAttribute("data-pafe-form-builder-address-autocomplete-country"),o=t.getAttribute("data-pafe-form-builder-google-maps-lat"),n=t.getAttribute("data-pafe-form-builder-google-maps-lng"),s=t.getAttribute("data-pafe-form-builder-google-maps-zoom");"All"==r?a.setComponentRestrictions({country:[]}):a.setComponentRestrictions({country:r});var l,d,c,f,r=t.closest(".elementor-element").querySelectorAll("[data-pafe-form-builder-address-autocomplete-map]");0<r.length&&(n={lat:parseFloat(o),lng:parseFloat(n)},s=parseInt(s),l=new google.maps.Map(r[0],{center:n,zoom:s}),d=new google.maps.InfoWindow,c=t.closest(".elementor-element").querySelectorAll(".infowindow-content")[0],d.setContent(c),f=new google.maps.Marker({map:l,anchorPoint:new google.maps.Point(0,-29)}),a.addListener("place_changed",function(){d.close(),f.setVisible(!1);var e,t=a.getPlace();t.geometry?(t.geometry.viewport?l.fitBounds(t.geometry.viewport):(l.setCenter(t.geometry.location),l.setZoom(17)),f.setPosition(t.geometry.location),f.setVisible(!0),e="",t.address_components&&(e=[t.address_components[0]&&t.address_components[0].short_name||"",t.address_components[1]&&t.address_components[1].short_name||"",t.address_components[2]&&t.address_components[2].short_name||""].join(" ")),c.children["place-icon"].src=t.icon,c.children["place-name"].textContent=t.name,c.children["place-address"].textContent=e,d.open(l,f)):window.alert("No details available for input: '"+t.name+"'")})),a.addListener("place_changed",function(){var e=a.getPlace();t.setAttribute("data-pafe-form-builder-google-maps-lat",e.geometry.location.lat()),t.setAttribute("data-pafe-form-builder-google-maps-lng",e.geometry.location.lng()),t.setAttribute("data-pafe-form-builder-google-maps-formatted-address",e.formatted_address),t.setAttribute("data-pafe-form-builder-google-maps-zoom","17"),document.querySelectorAll("[data-pafe-form-builder-calculated-fields-distance-calculation]").forEach(function(e,t,i){var a,r,o;a=null!==e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-from")?e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-from"):document.getElementById(e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-from-field-shortcode").replace('[field id="',"form-field-").replace('"]',"")).getAttribute("data-pafe-form-builder-google-maps-formatted-address"),r=null!==e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-to")?e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-to"):($destination=document.getElementById(e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-to-field-shortcode").replace('[field id="',"form-field-").replace('"]',"")),$destination.getAttribute("data-pafe-form-builder-google-maps-formatted-address")),""!=a&&""!=r&&(o=e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-unit"),calculateDistance(a,r,e.closest(".pafe-field-container").querySelector(".pafe-calculated-fields-form__value"),o,e))})})})}function calculateDistance(e,t,a,r,o){""!=e&&""!=t&&(new google.maps.DistanceMatrixService).getDistanceMatrix({origins:[e],destinations:[t],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL,avoidHighways:!1,avoidTolls:!1},function(e,t){var i;t!=google.maps.DistanceMatrixStatus.OK||(e.originAddresses[0],e.destinationAddresses[0],"ZERO_RESULTS"===e.rows[0].elements[0].status||(i=e.rows[0].elements[0].distance,t=e.rows[0].elements[0].duration,e=i.value/1e3,i=i.value/1609.34,t.text,t.value,new Event("change"),"km"==r?(a.innerHTML=e.toFixed(2),o.value=e.toFixed(2)):(a.innerHTML=i.toFixed(2),o.value=i.toFixed(2)),jQuery(o).change()))})}function callback(e,t){if(t!=google.maps.DistanceMatrixStatus.OK)console.log(err);else{var i=e.originAddresses[0],a=e.destinationAddresses[0];if("ZERO_RESULTS"!==e.rows[0].elements[0].status){var r=e.rows[0].elements[0].distance,t=e.rows[0].elements[0].duration;console.log(e.rows[0].elements[0].distance);e=r.value/1e3,r=r.value/1609.34,t.text,t.value;return console.log(r.toFixed(2)+"miles"),e.toFixed(2)}console.log("Better get on a plane. There are no roads between "+i+" and "+a)}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}jQuery(document).ready(function(e){e(document).on("elementor/popup/show",function(){pafeAddressAutocompleteInitMap()})}),jQuery(document).ready(function(e){}),jQuery(document).ready(function(e){e(document).on("click","#pafe-form-builder-trigger-success-YOUR-FORM-ID",function(e){}),e(document).on("click","#pafe-form-builder-trigger-failed-YOUR-FORM-ID",function(e){})}),function(e,c){var a,t=e.jQuery||e.Cowboy||(e.Cowboy={});t.throttle=a=function(r,o,n,s){var l,d=0;function e(){var e=this,t=+new Date-d,i=arguments;function a(){d=+new Date,n.apply(e,i)}s&&!l&&a(),l&&clearTimeout(l),s===c&&r<t?a():!0!==o&&(l=setTimeout(s?function(){l=c}:a,s===c?r-t:r))}return"boolean"!=typeof o&&(s=n,n=o,o=c),t.guid&&(e.guid=n.guid=n.guid||t.guid++),e},t.debounce=function(e,t,i){return i===c?a(e,t,!1):a(e,i,!1!==t)}}(this),function(t){!jQuery&&"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,document,window,navigator)}):jQuery||"object"!=typeof exports?t(jQuery,document,window,navigator):t(require("jquery"),document,window,navigator)}(function(n,s,l,e,d){"use strict";var t,i=0,a=(t=/msie\s\d+/i,0<(e=e.userAgent).search(t)&&t.exec(e).toString().split(" ")[1]<9&&(n("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(i){var a=this,r=[].slice;if("function"!=typeof a)throw new TypeError;var o=r.call(arguments,1),n=function(){if(this instanceof n){var e=function(){};e.prototype=a.prototype;var t=new e,e=a.apply(t,o.concat(r.call(arguments)));return Object(e)===e?e:t}return a.apply(i,o.concat(r.call(arguments)))};return n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i;if(null==this)throw new TypeError('"this" is null or not defined');var a=Object(this),r=a.length>>>0;if(0==r)return-1;t=+t||0;if(Math.abs(t)===1/0&&(t=0),r<=t)return-1;for(i=Math.max(0<=t?t:r-Math.abs(t),0);i<r;){if(i in a&&a[i]===e)return i;i++}return-1});function r(e,t,i){this.VERSION="2.3.0",this.input=e,this.plugin_count=i,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,t=t||{},this.$cache={win:n(l),body:n(s.body),input:n(e),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var a,r,o=this.$cache.input,i=o.prop("value"),e={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null};for(r in"INPUT"!==o[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",o[0]),(a={skin:o.data("skin"),type:o.data("type"),min:o.data("min"),max:o.data("max"),from:o.data("from"),to:o.data("to"),step:o.data("step"),min_interval:o.data("minInterval"),max_interval:o.data("maxInterval"),drag_interval:o.data("dragInterval"),values:o.data("values"),from_fixed:o.data("fromFixed"),from_min:o.data("fromMin"),from_max:o.data("fromMax"),from_shadow:o.data("fromShadow"),to_fixed:o.data("toFixed"),to_min:o.data("toMin"),to_max:o.data("toMax"),to_shadow:o.data("toShadow"),prettify_enabled:o.data("prettifyEnabled"),prettify_separator:o.data("prettifySeparator"),force_edges:o.data("forceEdges"),keyboard:o.data("keyboard"),grid:o.data("grid"),grid_margin:o.data("gridMargin"),grid_num:o.data("gridNum"),grid_snap:o.data("gridSnap"),hide_min_max:o.data("hideMinMax"),hide_from_to:o.data("hideFromTo"),prefix:o.data("prefix"),postfix:o.data("postfix"),max_postfix:o.data("maxPostfix"),decorate_both:o.data("decorateBoth"),values_separator:o.data("valuesSeparator"),input_values_separator:o.data("inputValuesSeparator"),disable:o.data("disable"),block:o.data("block"),extra_classes:o.data("extraClasses")}).values=a.values&&a.values.split(","),a)a.hasOwnProperty(r)&&(a[r]!==d&&""!==a[r]||delete a[r]);i!==d&&""!==i&&((i=i.split(a.input_values_separator||t.input_values_separator||";"))[0]&&i[0]==+i[0]&&(i[0]=+i[0]),i[1]&&i[1]==+i[1]&&(i[1]=+i[1]),t&&t.values&&t.values.length?(e.from=i[0]&&t.values.indexOf(i[0]),e.to=i[1]&&t.values.indexOf(i[1])):(e.from=i[0]&&+i[0],e.to=i[1]&&+i[1])),n.extend(e,t),n.extend(e,a),this.options=e,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()}r.prototype={init:function(e){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),e?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var e='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(e),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var e=this.options.min,t=this.options.max,i=this.options.from,a=this.options.to;e<i&&a===t?this.$cache.s_from.addClass("type_last"):a<t&&this.$cache.s_to.addClass("type_last")},changeLevel:function(e){switch(e){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),a&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),a&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(e){var t,i;this.target||(t=(i="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,t+=i.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:t}))},pointerMove:function(e){this.dragging&&(e=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX,this.coords.x_pointer=e-this.coords.x_gap,this.calc())},pointerUp:function(e){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,a&&n("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(n.contains(this.$cache.cont[0],e.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(e,t){t.preventDefault();var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;2!==t.button&&("both"===e&&this.setTempMinInterval(),e=e||(this.target||"from"),this.current_plugin=this.plugin_count,this.target=e,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=i-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(e),a&&n("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(e,t){t.preventDefault();var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;2!==t.button&&(this.current_plugin=this.plugin_count,this.target=e,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(e,t){if(!(this.current_plugin!==this.plugin_count||t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)){switch(t.which){case 83:case 65:case 40:case 37:t.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:t.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(e){var t=this.coords.p_pointer,i=(this.options.max-this.options.min)/100,i=this.options.step/i;e?t+=i:t-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*t),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");var e,t;this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(e=this._prettify(this.options.min),t=this._prettify(this.options.max),this.result.min_pretty=e,this.result.max_pretty=t,this.$cache.min.html(this.decorate(e,this.options.min)),this.$cache.max.html(this.decorate(t,this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var e=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=e},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(e){if(this.options&&(this.calc_count++,10!==this.calc_count&&!e||(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var t=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,t=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,t=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(t)),this.target){case"base":var i=(this.options.max-this.options.min)/100,a=(this.result.from-this.options.min)/i,r=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(a),this.coords.p_from_real=this.toFixed(a),this.coords.p_to_real=this.toFixed(r),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(t),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(t),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(t),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;t=this.toFixed(t+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(t)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(t)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var o=this.convertToRealPercent(t),i=this.result.from_percent,a=this.result.to_percent-i,r=a/2,i=o-r,r=o+r;i<0&&(r=(i=0)+a),100<r&&(i=(r=100)-a),this.coords.p_from_real=this.calcWithStep(i),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(r),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(e){return e/(100-this.coords.p_handle)*100},convertToFakePercent:function(e){return e/100*(100-this.coords.p_handle)},getHandleX:function(){var e=100-this.coords.p_handle,t=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return t<0?t=0:e<t&&(t=e),t},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(e){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=e?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),this.coords.w_rs===this.coords.w_rs_old&&!this.force_redraw||(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",this.old_from===this.result.from&&!this.force_redraw||(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),this.old_to===this.result.to&&!this.force_redraw||(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){var e,t,i,a,r,o;this.options&&(e=this.options.values.length,t=this.options.p_values,this.options.hide_from_to||("single"===this.options.type?(a=e?this.decorate(t[this.result.from]):(o=this._prettify(this.result.from),this.decorate(o,this.result.from)),this.$cache.single.html(a),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"):(o=e?(this.options.decorate_both?(a=this.decorate(t[this.result.from]),a+=this.options.values_separator,a+=this.decorate(t[this.result.to])):a=this.decorate(t[this.result.from]+this.options.values_separator+t[this.result.to]),r=this.decorate(t[this.result.from]),this.decorate(t[this.result.to])):(o=this._prettify(this.result.from),i=this._prettify(this.result.to),this.options.decorate_both?(a=this.decorate(o,this.result.from),a+=this.options.values_separator,a+=this.decorate(i,this.result.to)):a=this.decorate(o+this.options.values_separator+i,this.result.to),r=this.decorate(o,this.result.from),this.decorate(i,this.result.to)),this.$cache.single.html(a),this.$cache.from.html(r),this.$cache.to.html(o),this.calcLabels(),i=Math.min(this.labels.p_single_left,this.labels.p_from_left),a=this.labels.p_single_left+this.labels.p_single_fake,r=this.labels.p_to_left+this.labels.p_to_fake,o=Math.max(a,r),this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",o=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",r):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(a,r))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),i<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",o>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible")))},drawShadow:function(){var e,t,i=this.options,a=this.$cache,r="number"==typeof i.from_min&&!isNaN(i.from_min),o="number"==typeof i.from_max&&!isNaN(i.from_max),n="number"==typeof i.to_min&&!isNaN(i.to_min),s="number"==typeof i.to_max&&!isNaN(i.to_max);"single"===i.type?i.from_shadow&&(r||o)?(e=this.convertToPercent(r?i.from_min:i.min),t=this.convertToPercent(o?i.from_max:i.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),t=this.toFixed(t-this.coords.p_handle/100*t),e+=this.coords.p_handle/2,a.shad_single[0].style.display="block",a.shad_single[0].style.left=e+"%",a.shad_single[0].style.width=t+"%"):a.shad_single[0].style.display="none":(i.from_shadow&&(r||o)?(e=this.convertToPercent(r?i.from_min:i.min),t=this.convertToPercent(o?i.from_max:i.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),t=this.toFixed(t-this.coords.p_handle/100*t),e+=this.coords.p_handle/2,a.shad_from[0].style.display="block",a.shad_from[0].style.left=e+"%",a.shad_from[0].style.width=t+"%"):a.shad_from[0].style.display="none",i.to_shadow&&(n||s)?(n=this.convertToPercent(n?i.to_min:i.min),i=this.convertToPercent(s?i.to_max:i.max)-n,n=this.toFixed(n-this.coords.p_handle/100*n),i=this.toFixed(i-this.coords.p_handle/100*i),n+=this.coords.p_handle/2,a.shad_to[0].style.display="block",a.shad_to[0].style.left=n+"%",a.shad_to[0].style.width=i+"%"):a.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(e,t){var i=this.options.max-this.options.min,a=i/100;return i?(a=(t?e:e-this.options.min)/a,this.toFixed(a)):(this.no_diapason=!0,0)},convertToValue:function(e){var t,i,a=this.options.min,r=this.options.max,o=a.toString().split(".")[1],n=r.toString().split(".")[1],s=0,l=0;if(0===e)return this.options.min;if(100===e)return this.options.max;o&&(s=t=o.length),n&&(s=i=n.length),t&&i&&(s=i<=t?t:i),a<0&&(a=+(a+(l=Math.abs(a))).toFixed(s),r=+(r+l).toFixed(s));var e=(r-a)/100*e+a,a=this.options.step.toString().split(".")[1],e=a?+e.toFixed(a.length):(e/=this.options.step,+(e*=this.options.step).toFixed(0));return l&&(e-=l),(e=a?+e.toFixed(a.length):this.toFixed(e))<this.options.min?e=this.options.min:e>this.options.max&&(e=this.options.max),e},calcWithStep:function(e){var t=Math.round(e/this.coords.p_step)*this.coords.p_step;return 100<t&&(t=100),100===e&&(t=100),this.toFixed(t)},checkMinInterval:function(e,t,i){var a,r=this.options;return r.min_interval?(a=this.convertToValue(e),t=this.convertToValue(t),"from"===i?t-a<r.min_interval&&(a=t-r.min_interval):a-t<r.min_interval&&(a=t+r.min_interval),this.convertToPercent(a)):e},checkMaxInterval:function(e,t,i){var a,r=this.options;return r.max_interval?(a=this.convertToValue(e),t=this.convertToValue(t),"from"===i?t-a>r.max_interval&&(a=t-r.max_interval):a-t>r.max_interval&&(a=t+r.max_interval),this.convertToPercent(a)):e},checkDiapason:function(e,t,i){var a=this.convertToValue(e),e=this.options;return"number"!=typeof t&&(t=e.min),"number"!=typeof i&&(i=e.max),a<t&&(a=t),i<a&&(a=i),this.convertToPercent(a)},toFixed:function(e){return+e.toFixed(20)},_prettify:function(e){return this.options.prettify_enabled?(this.options.prettify&&"function"==typeof this.options.prettify?this.options:this).prettify(e):e},prettify:function(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(e,t){return this.options.force_edges&&(e<0?e=0:100-t<e&&(e=100-t)),this.toFixed(e)},validate:function(){var e,t,i=this.options,a=this.result,r=i.values,o=r.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),o)for(i.p_values=[],i.min=0,i.max=o-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,t=0;t<o;t++)e=+r[t],e=isNaN(e)?r[t]:(r[t]=e,this._prettify(e)),i.p_values.push(e);"number"==typeof i.from&&!isNaN(i.from)||(i.from=i.min),"number"==typeof i.to&&!isNaN(i.to)||(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),a&&(a.min!==i.min&&(a.min=i.min),a.max!==i.max&&(a.max=i.max),(a.from<a.min||a.from>a.max)&&(a.from=i.from),(a.to<a.min||a.to>a.max)&&(a.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(e,t){var i="",a=this.options;return a.prefix&&(i+=a.prefix),i+=e,a.max_postfix&&(a.values.length&&e===a.p_values[a.max]||t===a.max)&&(i+=a.max_postfix,a.postfix&&(i+=" ")),a.postfix&&(i+=a.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var e,t,i,a,r,o,n=this.options,s=n.max-n.min,l=n.grid_num,d=0,c=4,f="";for(this.calcGridMargin(),n.grid_snap&&(l=s/n.step),50<l&&(l=50),i=this.toFixed(100/l),4<l&&(c=3),7<l&&(c=2),14<l&&(c=1),28<l&&(c=0),e=0;e<l+1;e++){for(a=c,100<(d=this.toFixed(i*e))&&(d=100),r=((this.coords.big[e]=d)-i*(e-1))/(a+1),t=1;t<=a&&0!==d;t++)f+='<span class="irs-grid-pol small" style="left: '+this.toFixed(d-r*t)+'%"></span>';f+='<span class="irs-grid-pol" style="left: '+d+'%"></span>',o=this.convertToValue(d),f+='<span class="irs-grid-text js-grid-text-'+e+'" style="left: '+d+'%">'+(o=n.values.length?n.p_values[o]:this._prettify(o))+"</span>"}this.coords.big_num=Math.ceil(l+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(f),this.cacheGridLabels()}},cacheGridLabels:function(){for(var e,t=this.coords.big_num,i=0;i<t;i++)e=this.$cache.grid.find(".js-grid-text-"+i),this.$cache.grid_labels.push(e);this.calcGridLabels()},calcGridLabels:function(){for(var e,t=[],i=[],a=this.coords.big_num,r=0;r<a;r++)this.coords.big_w[r]=this.$cache.grid_labels[r].outerWidth(!1),this.coords.big_p[r]=this.toFixed(this.coords.big_w[r]/this.coords.w_rs*100),this.coords.big_x[r]=this.toFixed(this.coords.big_p[r]/2),t[r]=this.toFixed(this.coords.big[r]-this.coords.big_x[r]),i[r]=this.toFixed(t[r]+this.coords.big_p[r]);for(this.options.force_edges&&(t[0]<-this.coords.grid_gap&&(t[0]=-this.coords.grid_gap,i[0]=this.toFixed(t[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),i[a-1]>100+this.coords.grid_gap&&(i[a-1]=100+this.coords.grid_gap,t[a-1]=this.toFixed(i[a-1]-this.coords.big_p[a-1]),this.coords.big_x[a-1]=this.toFixed(this.coords.big_p[a-1]-this.coords.grid_gap))),this.calcGridCollision(2,t,i),this.calcGridCollision(4,t,i),r=0;r<a;r++)e=this.$cache.grid_labels[r][0],this.coords.big_x[r]!==Number.POSITIVE_INFINITY&&(e.style.marginLeft=-this.coords.big_x[r]+"%")},calcGridCollision:function(e,t,i){for(var a,r,o=this.coords.big_num,n=0;n<o&&!(o<=(a=n+e/2));n+=e)r=this.$cache.grid_labels[a][0],i[n]<=t[a]?r.style.visibility="visible":r.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(e){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=n.extend(this.options,e),this.validate(),this.updateResult(e),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),n.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},n.fn.ionRangeSlider=function(e){return this.each(function(){n.data(this,"ionRangeSlider")||n.data(this,"ionRangeSlider",new r(this,e,i++))})},function(){for(var o=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!l.requestAnimationFrame;++t)l.requestAnimationFrame=l[e[t]+"RequestAnimationFrame"],l.cancelAnimationFrame=l[e[t]+"CancelAnimationFrame"]||l[e[t]+"CancelRequestAnimationFrame"];l.requestAnimationFrame||(l.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),a=Math.max(0,16-(i-o)),r=l.setTimeout(function(){e(i+a)},a);return o=i+a,r}),l.cancelAnimationFrame||(l.cancelAnimationFrame=function(e){clearTimeout(e)})}()});var _createClass=function(){function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}}();(function(){var i,p,o,a,n=[].indexOf;function r(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,r),this.clicked=this.clicked.bind(this),this.picker=t,this.opts=i,this.option=jQuery(e),this.create_node()}function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,s),this.sync_picker_with_select=this.sync_picker_with_select.bind(this),this.opts=t,this.select=jQuery(e),this.multiple="multiple"===this.select.attr("multiple"),null!=this.select.data("limit")&&(this.opts.limit=parseInt(this.select.data("limit"))),this.build_and_append_picker()}jQuery.fn.extend({imagepicker:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.each(function(){var e;if((e=jQuery(this)).data("picker")&&e.data("picker").destroy(),e.data("picker",new i(this,a(t))),null!=t.initialized)return t.initialized.call(e.data("picker"))})}}),a=function(e){var t={hide_select:!0,show_label:!1,initialized:void 0,changed:void 0,clicked:void 0,selected:void 0,limit:void 0,limit_reached:void 0,font_awesome:!1};return jQuery.extend(t,e)},o=function(e,t){var i,a,r,o;if(!e||!t||e.length!==t.length)return!1;for(e=e.slice(0),t=t.slice(0),e.sort(),t.sort(),i=a=0,r=e.length;a<r;i=++a)if(o=e[i],t[i]!==o)return!1;return!0},_createClass(s,[{key:"destroy",value:function(){for(var e,t=0,i=(e=this.picker_options).length;t<i;t++)e[t].destroy();return this.picker.remove(),this.select.off("change",this.sync_picker_with_select),this.select.removeData("picker"),this.select.show()}},{key:"build_and_append_picker",value:function(){return this.opts.hide_select&&this.select.hide(),this.select.on("change",this.sync_picker_with_select),null!=this.picker&&this.picker.remove(),this.create_picker(),this.select.after(this.picker),this.sync_picker_with_select()}},{key:"sync_picker_with_select",value:function(){for(var e,t,i=[],a=0,r=(t=this.picker_options).length;a<r;a++)(e=t[a]).is_selected()?i.push(e.mark_as_selected()):i.push(e.unmark_as_selected());return i}},{key:"create_picker",value:function(){return this.picker=jQuery("<ul class='thumbnails image_picker_selector'></ul>"),this.picker_options=[],this.recursively_parse_option_groups(this.select,this.picker),this.picker}},{key:"recursively_parse_option_groups",value:function(r,e){for(var t,i,a,o,n,s,l,d,c=0,f=(s=r.children("optgroup")).length;c<f;c++)n=s[c],n=jQuery(n),(t=jQuery("<ul></ul>")).append(jQuery("<li class='group_title'>"+n.attr("label")+"</li>")),e.append(jQuery("<li class='group'>").append(t)),this.recursively_parse_option_groups(n,t);for(d=[],i=0,a=(l=function(){for(var e,t=[],i=0,a=(e=r.children("option")).length;i<a;i++)o=e[i],t.push(new p(o,this,this.opts));return t}.call(this)).length;i<a;i++)o=l[i],this.picker_options.push(o),o.has_image()&&d.push(e.append(o.node));return d}},{key:"has_implicit_blanks",value:function(){var r;return 0<function(){for(var e,t=[],i=0,a=(e=this.picker_options).length;i<a;i++)(r=e[i]).is_blank()&&!r.has_image()&&t.push(r);return t}.call(this).length}},{key:"selected_values",value:function(){return this.multiple?this.select.val()||[]:[this.select.val()]}},{key:"toggle",value:function(e,t){var i,a=this.selected_values(),r=e.value().toString();if(this.multiple?0<=n.call(this.selected_values(),r)?((i=this.selected_values()).splice(jQuery.inArray(r,a),1),this.select.val([]),this.select.val(i)):null!=this.opts.limit&&this.selected_values().length>=this.opts.limit?null!=this.opts.limit_reached&&this.opts.limit_reached.call(this.select):this.select.val(this.selected_values().concat(r)):this.has_implicit_blanks()&&e.is_selected()?this.select.val(""):this.select.val(r),!o(a,this.selected_values())&&(this.select.change(),null!=this.opts.changed))return this.opts.changed.call(this.select,a,this.selected_values(),t)}}]),i=s,_createClass(r,[{key:"destroy",value:function(){return this.node.find(".thumbnail").off("click",this.clicked)}},{key:"has_image",value:function(){return null!=this.option.data("img-src")}},{key:"is_blank",value:function(){return!(null!=this.value()&&""!==this.value())}},{key:"is_selected",value:function(){var e=this.picker.select.val();return this.picker.multiple?0<=jQuery.inArray(this.value(),e):this.value()===e}},{key:"mark_as_selected",value:function(){return this.node.find(".thumbnail").addClass("selected")}},{key:"unmark_as_selected",value:function(){return this.node.find(".thumbnail").removeClass("selected")}},{key:"value",value:function(){return this.option.val()}},{key:"label",value:function(){return this.option.data("img-label")?this.option.data("img-label"):this.option.text()}},{key:"clicked",value:function(e){if(this.picker.toggle(this,e),null!=this.opts.clicked&&this.opts.clicked.call(this.picker.select,this,e),null!=this.opts.selected&&this.is_selected())return this.opts.selected.call(this.picker.select,this,e)}},{key:"create_node",value:function(){var e,t,i;return this.node=jQuery("<li/>"),this.option.data("font_awesome")?(e=jQuery("<i>")).attr("class","fa-fw "+this.option.data("img-src")):(e=jQuery("<img class='image_picker_image'/>")).attr("src",this.option.data("img-src")),i=jQuery("<div class='thumbnail'>"),(t=this.option.data("img-class"))&&(this.node.addClass(t),e.addClass(t),i.addClass(t)),(t=this.option.data("img-alt"))&&e.attr("alt",t),i.on("click",this.clicked),i.append(e),this.opts.show_label&&i.append(jQuery("<p/>").html(this.label())),this.node.append(i),this.node}}]),p=r}).call(void 0),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){var i;c.extend(c.fn,{validate:function(e){if(this.length){var a=c.data(this[0],"validator");return a||(this.attr("novalidate","novalidate"),a=new c.validator(e,this[0]),c.data(this[0],"validator",a),a.settings.onsubmit&&(this.on("click.validate",":submit",function(e){a.submitButton=e.currentTarget,c(this).hasClass("cancel")&&(a.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(a.cancelSubmit=!0)}),this.on("submit.validate",function(i){function e(){var e,t;return a.submitButton&&(a.settings.submitHandler||a.formSubmitted)&&(e=c("<input type='hidden'/>").attr("name",a.submitButton.name).val(c(a.submitButton).val()).appendTo(a.currentForm)),!(a.settings.submitHandler&&!a.settings.debug)||(t=a.settings.submitHandler.call(a,a.currentForm,i),e&&e.remove(),void 0!==t&&t)}return a.settings.debug&&i.preventDefault(),a.cancelSubmit?(a.cancelSubmit=!1,e()):a.form()?a.pendingRequest?!(a.formSubmitted=!0):e():(a.focusInvalid(),!1)})),a)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,i;return c(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,t=c(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(i=i.concat(t.errorList))}),t.errorList=i),e},rules:function(e,t){var i,a,r,o,n,s=this[0],l=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=s&&(!s.form&&l&&(s.form=this.closest("form")[0],s.name=this.attr("name")),null!=s.form)){if(e)switch(i=c.data(s.form,"validator").settings,a=i.rules,r=c.validator.staticRules(s),e){case"add":c.extend(r,c.validator.normalizeRule(t)),delete r.messages,a[s.name]=r,t.messages&&(i.messages[s.name]=c.extend(i.messages[s.name],t.messages));break;case"remove":return t?(n={},c.each(t.split(/\s/),function(e,t){n[t]=r[t],delete r[t]}),n):(delete a[s.name],r)}return(e=c.validator.normalizeRules(c.extend({},c.validator.classRules(s),c.validator.attributeRules(s),c.validator.dataRules(s),c.validator.staticRules(s)),s)).required&&(o=e.required,delete e.required,e=c.extend({required:o},e)),e.remote&&(o=e.remote,delete e.remote,e=c.extend(e,{remote:o})),e}}}),c.extend(c.expr.pseudos||c.expr[":"],{blank:function(e){return!c.trim(""+c(e).val())},filled:function(e){e=c(e).val();return null!==e&&!!c.trim(""+e)},unchecked:function(e){return!c(e).prop("checked")}}),c.validator=function(e,t){this.settings=c.extend(!0,{},c.validator.defaults,e),this.currentForm=t,this.init()},c.validator.format=function(i,e){return 1===arguments.length?function(){var e=c.makeArray(arguments);return e.unshift(i),c.validator.format.apply(this,e)}:(void 0===e||(2<arguments.length&&e.constructor!==Array&&(e=c.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),c.each(e,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),i)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==c.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):c(e)).addClass(t).removeClass(i)},unhighlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):c(e)).removeClass(t).addClass(i)}},setDefaults:function(e){c.extend(c.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t,i,a=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");!this.form&&a&&(this.form=c(this).closest("form")[0],this.name=c(this).attr("name")),r===this.form&&(t=c.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),(a=t.settings)[i]&&!c(this).is(a.ignore)&&a[i].call(t,this,e))}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,r=this.currentForm,a=this.groups={};c.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),c.each(e,function(e,t){a[t]=i})}),i=this.settings.rules,c.each(i,function(e,t){i[e]=c.validator.normalizeRule(t)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,i,a=this.clean(e),r=this.validationTargetFor(a),o=this,n=!0;return void 0===r?delete this.invalid[a.name]:(this.prepareElement(r),this.currentElements=c(r),(i=this.groups[r.name])&&c.each(this.groups,function(e,t){t===i&&e!==r.name&&((a=o.validationTargetFor(o.clean(o.findByName(e))))&&a.name in o.invalid&&(o.currentElements.push(a),n=o.check(a)&&n))}),t=!1!==this.check(r),n=n&&t,this.invalid[r.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(e).attr("aria-invalid",!t)),n},showErrors:function(t){var i;t&&(i=this,c.extend(this.errorMap,t),this.errorList=c.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=c.grep(this.successList,function(e){return!(e.name in t)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===c.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var i=this,a={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||c(this).attr("name"),t=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");return!e&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),t&&(this.form=c(this).closest("form")[0],this.name=e),!(this.form!==i.currentForm||e in a||!i.objectLength(c(this).rules())||(a[e]=!0,0))})},clean:function(e){return c(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=c(e),i=e.type,a=void 0!==t.attr("contenteditable")&&"false"!==t.attr("contenteditable");return"radio"===i||"checkbox"===i?this.findByName(e.name).filter(":checked").val():"number"===i&&void 0!==e.validity?e.validity.badInput?"NaN":t.val():(t=a?t.text():t.val(),"file"===i?"C:\\fakepath\\"===t.substr(0,12)?t.substr(12):0<=(i=t.lastIndexOf("/"))?t.substr(i+1):0<=(i=t.lastIndexOf("\\"))?t.substr(i+1):t:"string"==typeof t?t.replace(/\r/g,""):t)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,a,r,o=c(t).rules(),n=c.map(o,function(e,t){return t}).length,s=!1,l=this.elementValue(t);for(i in"function"==typeof o.normalizer?r=o.normalizer:"function"==typeof this.settings.normalizer&&(r=this.settings.normalizer),r&&(l=r.call(t,l),delete o.normalizer),o){a={method:i,parameters:o[i]};try{if("dependency-mismatch"===(e=c.validator.methods[i].call(this,l,t,a.parameters))&&1===n){s=!0;continue}if(s=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,a),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method."),e}}if(!s)return this.objectLength(o)&&this.successList.push(t),!0},customDataMessage:function(e,t){return c(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||c(e).data("msg")},customMessage:function(e,t){e=this.settings.messages[e];return e&&(e.constructor===String?e:e[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){"string"==typeof t&&(t={method:t});var i=this.findDefined(this.customMessage(e.name,t.method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,c.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),a=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,t.parameters,e):a.test(i)&&(i=c.validator.format(i.replace(a,"{$1}"),t.parameters)),i},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){for(var e,t,i=0;this.errorList[i];i++)t=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,e=this.validElements();e[i];i++)this.settings.unhighlight.call(this,e[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i,a,r,o=this.errorsFor(e),n=this.idOrName(e),s=c(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(t)):(i=o=c("<"+this.settings.errorElement+">").attr("id",n+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(i=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,c(e)):i.insertAfter(e),o.is("label")?o.attr("for",n):0===o.parents("label[for='"+this.escapeCssMeta(n)+"']").length&&(n=o.attr("id"),s?s.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))||(s+=" "+n):s=n,c(e).attr("aria-describedby",s),(a=this.groups[e.name])&&(r=this,c.each(r.groups,function(e,t){t===a&&c("[name='"+r.escapeCssMeta(e)+"']",r.currentForm).attr("aria-describedby",o.attr("id"))})))),!t&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),e=c(e).attr("aria-describedby"),t="label[for='"+t+"'], label[for='"+t+"'] *";return e&&(t=t+", #"+this.escapeCssMeta(e).replace(/\s+/g,", #")),this.errors().filter(t)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),c(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return c(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return c("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!c(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!c.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,c(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],c(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.submitButton&&c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,t){return t="string"==typeof t&&t||"remote",c.data(e,"previousValue")||c.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:c.extend(this.classRuleSettings,e)},classRules:function(e){var t={},e=c(e).attr("class");return e&&c.each(e.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(t,c.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,i,a){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(a=Number(a),isNaN(a)&&(a=void 0)),a||0===a?e[i]=a:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(e){var t,i,a={},r=c(e),o=e.getAttribute("type");for(t in c.validator.methods)i="required"===t?(i=e.getAttribute(t),""===i&&(i=!0),!!i):r.attr(t),this.normalizeAttributeRule(a,o,t,i);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(e){var t,i,a={},r=c(e),o=e.getAttribute("type");for(t in c.validator.methods)i=r.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),""===i&&(i=!0),this.normalizeAttributeRule(a,o,t,i);return a},staticRules:function(e){var t={},i=c.data(e.form,"validator");return i.settings.rules&&(t=c.validator.normalizeRule(i.settings.rules[e.name])||{}),t},normalizeRules:function(a,r){return c.each(a,function(e,t){if(!1!==t){if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!c(t.depends,r.form).length;break;case"function":i=t.depends.call(r,r)}i?a[e]=void 0===t.param||t.param:(c.data(r.form,"validator").resetElements(c(r)),delete a[e])}}else delete a[e]}),c.each(a,function(e,t){a[e]=c.isFunction(t)&&"normalizer"!==e?t(r):t}),c.each(["minlength","maxlength"],function(){a[this]&&(a[this]=Number(a[this]))}),c.each(["rangelength","range"],function(){var e;a[this]&&(c.isArray(a[this])?a[this]=[Number(a[this][0]),Number(a[this][1])]:"string"==typeof a[this]&&(e=a[this].replace(/[\[\]]/g,"").split(/[\s,]+/),a[this]=[Number(e[0]),Number(e[1])]))}),c.validator.autoCreateRanges&&(null!=a.min&&null!=a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),null!=a.minlength&&null!=a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength)),a},normalizeRule:function(e){var t;return"string"==typeof e&&(t={},c.each(e.split(/\s/),function(){t[this]=!0}),e=t),e},addMethod:function(e,t,i){c.validator.methods[e]=t,c.validator.messages[e]=void 0!==i?i:c.validator.messages[e],t.length<3&&c.validator.addClassRules(e,c.validator.normalizeRule(e))},methods:{required:function(e,t,i){if(!this.depend(i,t))return"dependency-mismatch";if("select"!==t.nodeName.toLowerCase())return this.checkable(t)?0<this.getLength(e,t):null!=e&&0<e.length;t=c(t).val();return t&&0<t.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:(i=!1,function(e,t){return i||(i=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,i){e=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=e},maxlength:function(e,t,i){e=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e<=i},rangelength:function(e,t,i){e=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e>=i[0]&&e<=i[1]},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(e,t,i){function a(e){return(e=(""+e).match(/(?:\.(\d+))?$/))&&e[1]?e[1].length:0}function r(e){return Math.round(e*Math.pow(10,o))}var o,n=c(t).attr("type"),s="Step attribute on input type "+n+" is not supported.",l=new RegExp("\\b"+n+"\\b"),d=!0;if(n&&!l.test(["text","number","range"].join()))throw new Error(s);return o=a(i),(a(e)>o||r(e)%r(i)!=0)&&(d=!1),this.optional(t)||d},equalTo:function(e,t,i){i=c(i);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(t).valid()}),e===i.val()},remote:function(a,r,e,o){if(this.optional(r))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var n,t,s=this.previousValue(r,o);return this.settings.messages[r.name]||(this.settings.messages[r.name]={}),s.originalMessage=s.originalMessage||this.settings.messages[r.name][o],this.settings.messages[r.name][o]=s.message,e="string"==typeof e?{url:e}:e,t=c.param(c.extend({data:a},e.data)),s.old===t?s.valid:(s.old=t,(n=this).startRequest(r),(t={})[r.name]=a,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+r.name,dataType:"json",data:t,context:n.currentForm,success:function(e){var t,i=!0===e||"true"===e;n.settings.messages[r.name][o]=s.originalMessage,i?(t=n.formSubmitted,n.resetInternals(),n.toHide=n.errorsFor(r),n.formSubmitted=t,n.successList.push(r),n.invalid[r.name]=!1,n.showErrors()):(t={},e=e||n.defaultMessage(r,{method:o,parameters:a}),t[r.name]=s.message=e,n.invalid[r.name]=!0,n.showErrors(t)),s.valid=i,n.stopRequest(r,i)}},e)),"pending")}}});var a,r={};return c.ajaxPrefilter?c.ajaxPrefilter(function(e,t,i){var a=e.port;"abort"===e.mode&&(r[a]&&r[a].abort(),r[a]=i)}):(a=c.ajax,c.ajax=function(e){var t=("mode"in e?e:c.ajaxSettings).mode,i=("port"in e?e:c.ajaxSettings).port;return"abort"===t?(r[i]&&r[i].abort(),r[i]=a.apply(this,arguments),r[i]):a.apply(this,arguments)}),c}),function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate.min"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(s){return s.validator.addMethod("maxWords",function(e,t,i){return this.optional(t)||r(e).match(/\b\w+\b/g).length<=i},s.validator.format("Please enter {0} words or less.")),s.validator.addMethod("minWords",function(e,t,i){return this.optional(t)||r(e).match(/\b\w+\b/g).length>=i},s.validator.format("Please enter at least {0} words.")),s.validator.addMethod("rangeWords",function(e,t,i){var a=r(e),e=/\b\w+\b/g;return this.optional(t)||a.match(e).length>=i[0]&&a.match(e).length<=i[1]},s.validator.format("Please enter between {0} and {1} words.")),s.validator.addMethod("abaRoutingNumber",function(e){var t=0,i=e.split(""),a=i.length;if(9!==a)return!1;for(var r=0;r<a;r+=3)t+=3*parseInt(i[r],10)+7*parseInt(i[r+1],10)+parseInt(i[r+2],10);return 0!==t&&t%10==0},"Please enter a valid routing number."),s.validator.addMethod("accept",function(e,t,i){var a,r,o="string"==typeof i?i.replace(/\s/g,""):"image/*",i=this.optional(t);if(i)return i;if("file"===s(t).attr("type")&&(o=o.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),t.files&&t.files.length))for(r=new RegExp(".?("+o+")$","i"),a=0;a<t.files.length;a++)if(!t.files[a].type.match(r))return!1;return!0},s.validator.format("Please enter a value with a valid mimetype.")),s.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),s.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;for(var i=e.replace(/ /g,""),a=0,r=i.length,o=0;o<r;o++)a+=(r-o)*i.substring(o,o+1);return a%11==0},"Please specify a valid bank account number"),s.validator.addMethod("bankorgiroaccountNL",function(e,t){return this.optional(t)||s.validator.methods.bankaccountNL.call(this,e,t)||s.validator.methods.giroaccountNL.call(this,e,t)},"Please specify a valid bank or giro account number"),s.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())},"Please specify a valid BIC code"),s.validator.addMethod("cifES",function(e,t){"use strict";if(this.optional(t))return!0;var i,a,r=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),o=e.substring(0,1),n=e.substring(1,8),t=e.substring(8,9),s=0,l=0;if(9!==e.length||!r.test(e))return!1;for(i=0;i<n.length;i++)a=parseInt(n[i],10),i%2==0?l+=(a*=2)<10?a:a-9:s+=a;return r=(10-(s+l).toString().substr(-1)).toString(),r=9<parseInt(r,10)?"0":r,e="JABCDEFGHI".substr(r,1).toString(),o.match(/[ABEH]/)?t===r:!o.match(/[KPQS]/)&&t===r||t===e},"Please specify a valid CIF number."),s.validator.addMethod("cnhBR",function(e){if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var t,i,a,r=0,o=0,n=e.charAt(0);if(new Array(12).join(n)===e)return!1;for(a=9,i=0;i<9;++i,--a)r+=+e.charAt(i)*a;for(10<=(t=r%11)&&(t=0,o=2),i=r=0,a=1;i<9;++i,++a)r+=+e.charAt(i)*a;return 10<=(n=r%11)?n=0:n-=o,String(t).concat(n)===e.substr(-2)},"Please specify a valid CNH number"),s.validator.addMethod("cnpjBR",function(e,t){"use strict";if(this.optional(t))return!0;if(14!==(e=e.replace(/[^\d]+/g,"")).length)return!1;if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var i=e.length-2,a=e.substring(0,i),r=e.substring(i),o=0,n=i-7,s=i;1<=s;s--)o+=a.charAt(i-s)*n--,n<2&&(n=9);t=o%11<2?0:11-o%11;if(t!==parseInt(r.charAt(0),10))return!1;i+=1,a=e.substring(0,i),o=0,n=i-7;for(var l=i;1<=l;l--)o+=a.charAt(i-l)*n--,n<2&&(n=9);return(t=o%11<2?0:11-o%11)===parseInt(r.charAt(1),10)},"Please specify a CNPJ value number"),s.validator.addMethod("cpfBR",function(e,t){"use strict";if(this.optional(t))return!0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var i,a=0,r=parseInt(e.substring(9,10),10),o=parseInt(e.substring(10,11),10),t=function(e,t){e=10*e%11;return 10!==e&&11!==e||(e=0),e===t};if(""===e||"00000000000"===e||"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e)return!1;for(i=1;i<=9;i++)a+=parseInt(e.substring(i-1,i),10)*(11-i);if(t(a,r)){for(a=0,i=1;i<=10;i++)a+=parseInt(e.substring(i-1,i),10)*(12-i);return t(a,o)}return!1},"Please specify a valid CPF number"),s.validator.addMethod("creditcard",function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,a,r=0,o=0,n=!1;if((e=e.replace(/\D/g,"")).length<13||19<e.length)return!1;for(i=e.length-1;0<=i;i--)a=e.charAt(i),o=parseInt(a,10),n&&9<(o*=2)&&(o-=9),r+=o,n=!n;return r%10==0},"Please enter a valid credit card number."),s.validator.addMethod("creditcardtypes",function(e,t,i){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var a=0;return i.mastercard&&(a|=1),i.visa&&(a|=2),i.amex&&(a|=4),i.dinersclub&&(a|=8),i.enroute&&(a|=16),i.discover&&(a|=32),i.jcb&&(a|=64),i.unknown&&(a|=128),i.all&&(a=255),1&a&&(/^(5[12345])/.test(e)||/^(2[234567])/.test(e))||2&a&&/^(4)/.test(e)?16===e.length:4&a&&/^(3[47])/.test(e)?15===e.length:8&a&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&a&&/^(2(014|149))/.test(e)?15===e.length:32&a&&/^(6011)/.test(e)||64&a&&/^(3)/.test(e)?16===e.length:64&a&&/^(2131|1800)/.test(e)?15===e.length:!!(128&a)},"Please enter a valid credit card number."),s.validator.addMethod("currency",function(e,t,i){var a="string"==typeof i,r=a?i:i[0],i=!!a||i[1],r=r.replace(/,/g,""),r="^["+(r=i?r+"]":r+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";return r=new RegExp(r),this.optional(t)||r.test(e)},"Please specify a valid currency"),s.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},s.validator.messages.date),s.validator.addMethod("dateITA",function(e,t){var i,a,r,o=!1,o=!!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)&&(r=e.split("/"),i=parseInt(r[0],10),a=parseInt(r[1],10),e=parseInt(r[2],10),(r=new Date(Date.UTC(e,a-1,i,12,0,0,0))).getUTCFullYear()===e&&r.getUTCMonth()===a-1&&r.getUTCDate()===i);return this.optional(t)||o},s.validator.messages.date),s.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},s.validator.messages.date),s.validator.addMethod("extension",function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+i+")$","i"))},s.validator.format("Please enter a value with a valid extension.")),s.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),s.validator.addMethod("greaterThan",function(e,t,i){i=s(i);return this.settings.onfocusout&&i.not(".validate-greaterThan-blur").length&&i.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){s(t).valid()}),e>i.val()},"Please enter a greater value."),s.validator.addMethod("greaterThanEqual",function(e,t,i){i=s(i);return this.settings.onfocusout&&i.not(".validate-greaterThanEqual-blur").length&&i.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){s(t).valid()}),e>=i.val()},"Please enter a greater value."),s.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var i,a,r,o,t=e.replace(/ /g,"").toUpperCase(),n="",s=!0,l="";if(t.length<5)return!1;if(void 0!==(e={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[t.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+e+"$","").test(t))return!1;for(i=t.substring(4,t.length)+t.substring(0,4),r=0;r<i.length;r++)"0"!==(a=i.charAt(r))&&(s=!1),s||(n+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(a));for(o=0;o<n.length;o++)l=(""+l+n.charAt(o))%97;return 1===l},"Please specify a valid IBAN"),s.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),s.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),s.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),s.validator.addMethod("lessThan",function(e,t,i){i=s(i);return this.settings.onfocusout&&i.not(".validate-lessThan-blur").length&&i.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){s(t).valid()}),e<i.val()},"Please enter a lesser value."),s.validator.addMethod("lessThanEqual",function(e,t,i){i=s(i);return this.settings.onfocusout&&i.not(".validate-lessThanEqual-blur").length&&i.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){s(t).valid()}),e<=i.val()},"Please enter a lesser value."),s.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),s.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),s.validator.addMethod("maxfiles",function(e,t,i){return!!this.optional(t)||!("file"===s(t).attr("type")&&t.files&&t.files.length>i)},s.validator.format("Please select no more than {0} files.")),s.validator.addMethod("maxsize",function(e,t,i){if(this.optional(t))return!0;if("file"===s(t).attr("type")&&t.files&&t.files.length)for(var a=0;a<t.files.length;a++)if(t.files[a].size>i)return!1;return!0},s.validator.format("File size must not exceed {0} bytes each.")),s.validator.addMethod("maxsizetotal",function(e,t,i){if(this.optional(t))return!0;if("file"===s(t).attr("type")&&t.files&&t.files.length)for(var a=0,r=0;r<t.files.length;r++)if(i<(a+=t.files[r].size))return!1;return!0},s.validator.format("Total size of all files must not exceed {0} bytes.")),s.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),s.validator.addMethod("mobileRU",function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||9<e.length&&/^((\+7|7|8)+([0-9]){10})$/.test(e)},"Please specify a valid mobile number"),s.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),s.validator.addMethod("netmask",function(e,t){return this.optional(t)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(e)},"Please enter a valid netmask."),s.validator.addMethod("nieES",function(e,t){"use strict";if(this.optional(t))return!0;var i=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),t=e.substr(e.length-1).toUpperCase();return!(10<(e=e.toString().toUpperCase()).length||e.length<9||!i.test(e))&&(e=9===(e=e.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2")).length?e.substr(0,8):e.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(e,10)%23)===t)},"Please specify a valid NIE number."),s.validator.addMethod("nifES",function(e,t){"use strict";return!!this.optional(t)||!!(e=e.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):!!/^[KLM]{1}/.test(e)&&e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,1)%23))},"Please specify a valid NIF number."),s.validator.addMethod("nipPL",function(e){"use strict";if(10!==(e=e.replace(/[^0-9]/g,"")).length)return!1;for(var t=[6,5,7,2,3,4,5,6,7],i=0,a=0;a<9;a++)i+=t[a]*e[a];var r=i%11;return(10==r?0:r)===parseInt(e[9],10)},"Please specify a valid NIP number."),s.validator.addMethod("nisBR",function(e){var t,i,a,r,o=0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;for(i=parseInt(e.substring(10,11),10),t=parseInt(e.substring(0,10),10),a=2;a<12;a++)r=10===a?2:a,11===a&&(r=3),o+=t%10*r,t=parseInt(t/10,10);return i===(i=1<(i=o%11)?11-i:0)},"Please specify a valid NIS/PIS number"),s.validator.addMethod("notEqualTo",function(e,t,i){return this.optional(t)||!s.validator.methods.equalTo.call(this,e,t,i)},"Please enter a different value, values must not be the same."),s.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),s.validator.addMethod("pattern",function(e,t,i){return!!this.optional(t)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(e))},"Invalid format."),s.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),s.validator.addMethod("phonePL",function(e,t){e=e.replace(/\s+/g,"");return this.optional(t)||/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/.test(e)},"Please specify a valid phone number"),s.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),s.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),s.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||9<e.length&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),s.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP válido."),s.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)},"Please specify a valid postal code"),s.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code"),s.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),s.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),s.validator.addMethod("require_from_group",function(e,t,i){var a=s(i[1],t.form),r=a.eq(0),o=r.data("valid_req_grp")?r.data("valid_req_grp"):s.extend({},this),i=a.filter(function(){return o.elementValue(this)}).length>=i[0];return r.data("valid_req_grp",o),s(t).data("being_validated")||(a.data("being_validated",!0),a.each(function(){o.element(this)}),a.data("being_validated",!1)),i},s.validator.format("Please fill at least {0} of these fields.")),s.validator.addMethod("skip_or_fill_minimum",function(e,t,i){var a=s(i[1],t.form),r=a.eq(0),o=r.data("valid_skip")?r.data("valid_skip"):s.extend({},this),n=a.filter(function(){return o.elementValue(this)}).length,i=0===n||n>=i[0];return r.data("valid_skip",o),s(t).data("being_validated")||(a.data("being_validated",!0),a.each(function(){o.element(this)}),a.data("being_validated",!1)),i},s.validator.format("Please either skip these fields or fill at least {0} of them.")),s.validator.addMethod("stateUS",function(e,t,i){var a=void 0===i,r=!a&&void 0!==i.caseSensitive&&i.caseSensitive,o=!a&&void 0!==i.includeTerritories&&i.includeTerritories,i=!a&&void 0!==i.includeMilitary&&i.includeMilitary,o=o||i?o&&i?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":o?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$";return o=r?new RegExp(o):new RegExp(o,"i"),this.optional(t)||o.test(e)},"Please specify a valid state"),s.validator.addMethod("strippedminlength",function(e,t,i){return s(e).text().length>=i},s.validator.format("Please enter at least {0} characters")),s.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),s.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),s.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},s.validator.messages.url),s.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;for(var t,i,a,r,o,n=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],s=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],l=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],d=0,c=0;c<17;c++){if(a=l[c],i=e.slice(c,c+1),8===c&&(o=i),isNaN(i)){for(t=0;t<n.length;t++)if(i.toUpperCase()===n[t]){i=s[t],i*=a,isNaN(o)&&8===t&&(o=n[t]);break}}else i*=a;d+=i}return 10===(r=d%11)&&(r="X"),r===o},"The specified vehicle identification number (VIN) is invalid."),s.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),s.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),s;function r(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}}),function(){var s={},e=function(e,t,i){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===i)throw"no definition function for "+e;s[e]={deps:t,defn:i,instance:void 0}},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],i=t.deps,a=t.defn,r=i.length,o=new Array(r),n=0;n<r;++n)o[n]=l(i[n]);a=a.apply(null,o);if(void 0===a)throw"module ["+e+"] returned undefined";t.instance=a}(e),t.instance},i=e;(e=function(e,t){i(e,[],function(){return t})})("1",document),e("2",window),i("0",["1","2"],function(g,v){return function(e){function f(){return u.tinymce}var p,l,d,c=[],u=e||v,h=u.jQuery;h.fn.tinymce=function(n){var e,t,a,s=this,r="";if(!s.length)return s;if(!n)return f()?f().get(s[0].id):null;s.css("visibility","hidden");function i(){var r=[],o=0;d||(m(),d=!0),s.each(function(e,t){var i=t.id,a=n.oninit;i||(t.id=i=f().DOM.uniqueId()),f().get(i)||(i=f().createEditor(i,n),r.push(i),i.on("init",function(){var e,t=a;s.css("visibility",""),a&&++o==r.length&&("string"==typeof t&&(e=-1===t.indexOf(".")?null:f().resolve(t.replace(/\.\w+$/,"")),t=f().resolve(t)),t.apply(e||f(),r))}))}),h.each(r,function(e,t){t.render()})}var o;return u.tinymce||l||!(e=n.script_url)?1===l?c.push(i):i():(l=1,t=e.substring(0,e.lastIndexOf("/")),-1!=e.indexOf(".min")&&(r=".min"),u.tinymce=u.tinyMCEPreInit||{base:t,suffix:r},-1!=e.indexOf("gzip")&&(a=n.language||"en",e=e+(/\?/.test(e)?"&":"?")+"js=true&core=true&suffix="+escape(r)+"&themes="+escape(n.theme||"modern")+"&plugins="+escape(n.plugins||"")+"&languages="+(a||""),u.tinyMCE_GZ||(u.tinyMCE_GZ={start:function(){function i(e){f().ScriptLoader.markDone(f().baseURI.toAbsolute(e))}i("langs/"+a+".js"),i("themes/"+n.theme+"/theme"+r+".js"),i("themes/"+n.theme+"/langs/"+a+".js"),h.each(n.plugins.split(","),function(e,t){t&&(i("plugins/"+t+"/plugin"+r+".js"),i("plugins/"+t+"/langs/"+a+".js"))})},end:function(){}})),(o=g.createElement("script")).type="text/javascript",o.onload=o.onreadystatechange=function(e){e=e||v.event,2===l||"load"!=e.type&&!/complete|loaded/.test(o.readyState)||(f().dom.Event.domLoaded=1,l=2,n.script_loaded&&n.script_loaded(),i(),h.each(c,function(e,t){t()}))},o.src=e,g.body.appendChild(o)),s},h.extend(h.expr[":"],{tinymce:function(e){return!!(e.id&&"tinymce"in u&&((e=f().get(e.id))&&e.editorManager===f()))}});var m=function(){function a(e){"remove"===e&&this.each(function(e,t){t=d(t);t&&t.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){t=f().get(t.id.replace(/_parent$/,""));t&&t.remove()})}function s(i){var e;if(null!=i)a.call(this),this.each(function(e,t){(t=f().get(t.id))&&t.setContent(i)});else if(0<this.length&&(e=f().get(this[0].id)))return e.getContent()}function l(e){return!!(e&&e.length&&u.tinymce&&e.is(":tinymce"))}var d=function(e){var t=null;return e&&e.id&&u.tinymce&&(t=f().get(e.id)),t},c={};h.each(["text","html","val"],function(e,t){var o=c[t]=h.fn[t],n="text"===t;h.fn[t]=function(e){var t=this;if(!l(t))return o.apply(t,arguments);if(e!==p)return s.call(t.filter(":tinymce"),e),o.apply(t.not(":tinymce"),arguments),t;var a="",r=arguments;return(n?t:t.eq(0)).each(function(e,t){var i=d(t);a+=i?n?i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):i.getContent({save:!0}):o.apply(h(t),r)}),a}}),h.each(["append","prepend"],function(e,t){var a=c[t]=h.fn[t],r="prepend"===t;h.fn[t]=function(i){var e=this;return l(e)?i!==p?("string"==typeof i&&e.filter(":tinymce").each(function(e,t){t=d(t);t&&t.setContent(r?i+t.getContent():t.getContent()+i)}),a.apply(e.not(":tinymce"),arguments),e):void 0:a.apply(e,arguments)}}),h.each(["remove","replaceWith","replaceAll","empty"],function(e,t){var i=c[t]=h.fn[t];h.fn[t]=function(){return a.call(this,t),i.apply(this,arguments)}}),c.attr=h.fn.attr,h.fn.attr=function(e,t){var i=this,a=arguments;if(!e||"value"!==e||!l(i))return c.attr.apply(i,a);if(t!==p)return s.call(i.filter(":tinymce"),t),c.attr.apply(i.not(":tinymce"),a),i;var r=i[0],i=d(r);return i?i.getContent({save:!0}):c.attr.apply(h(r),a)}}}}),l("0")()}();var $jscomp=$jscomp||{},signaturePad;function parseFloatWithRemoveSepChar(e,t){return"string"==typeof e&&"string"==typeof t&&(e=e.replaceAll(t,"")),parseFloat(e)}function clearValidity(e){e=jQuery(e).closest(".elementor-field-subgroup");$firstOption=e.find(".elementor-field-option input"),$firstOption.each(function(){jQuery(this)[0].setCustomValidity("")})}$jscomp.scope={},$jscomp.findInternal=function(e,t,i){e instanceof String&&(e=String(e));for(var a=e.length,r=0;r<a;r++){var o=e[r];if(t.call(i,o,r,e))return{i:r,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)},$jscomp.getGlobal=function(e){return("undefined"==typeof window||window!==e)&&"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,i,a){if(t){for(i=$jscomp.global,e=e.split("."),a=0;a<e.length-1;a++){var r=e[a];r in i||(i[r]={}),i=i[r]}(t=t(a=i[e=e[e.length-1]]))!=a&&null!=t&&$jscomp.defineProperty(i,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=e(require("jquery")):e(t||i)}(function(n){function s(d,b,_){var y={invalid:[],getCaret:function(){try{var e=0,t=d.get(0),i=document.selection,t=t.selectionStart;return i&&-1===navigator.appVersion.indexOf("MSIE 10")?((i=i.createRange()).moveStart("character",-y.val().length),e=i.text.length):!t&&"0"!==t||(e=t),e}catch(e){}},setCaret:function(e){try{var t;d.is(":focus")&&((t=d.get(0)).setSelectionRange?t.setSelectionRange(e,e):((t=t.createTextRange()).collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()))}catch(e){}},events:function(){d.on("keydown.mask",function(e){d.data("mask-keycode",e.keyCode||e.which),d.data("mask-previus-value",d.val()),d.data("mask-previus-caret-pos",y.getCaret()),y.maskDigitPosMapOld=y.maskDigitPosMap}).on(n.jMaskGlobals.useInput?"input.mask":"keyup.mask",y.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){d.keydown().keyup()},100)}).on("change.mask",function(){d.data("changed",!0)}).on("blur.mask",function(){o===y.val()||d.data("changed")||d.trigger("change"),d.data("changed",!1)}).on("blur.mask",function(){o=y.val()}).on("focus.mask",function(e){!0===_.selectOnFocus&&n(e.target).select()}).on("focusout.mask",function(){_.clearIfNotMatch&&!a.test(y.val())&&y.val("")})},getRegexMask:function(){for(var e,t,i,a,r=[],o=0;o<b.length;o++)(e=$.translation[b.charAt(o)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=e.optional,(e=e.recursive)?(r.push(b.charAt(o)),a={digit:b.charAt(o),pattern:t}):r.push(i||e?t+"?":t)):r.push(b.charAt(o).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=r.join(""),a&&(r=r.replace(new RegExp("("+a.digit+"(.*"+a.digit+")?)"),"($1)?").replace(new RegExp(a.digit,"g"),a.pattern)),new RegExp(r)},destroyEvents:function(){d.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(e){var t=d.is("input")?"val":"text";return t=0<arguments.length?(d[t]()!==e&&d[t](e),d):d[t]()},calculateCaretPosition:function(e){var t=y.getMasked(),i=y.getCaret();if(e!==t){for(var a=d.data("mask-previus-caret-pos")||0,t=t.length,r=e.length,o=e=0,n=0,s=0,l=i;l<t&&y.maskDigitPosMap[l];l++)o++;for(l=i-1;0<=l&&y.maskDigitPosMap[l];l--)e++;for(l=i-1;0<=l;l--)y.maskDigitPosMap[l]&&n++;for(l=a-1;0<=l;l--)y.maskDigitPosMapOld[l]&&s++;r<i?i=10*t:i<=a&&a!==r?y.maskDigitPosMapOld[i]||(i=(a=i)-(s-n)-e,y.maskDigitPosMap[i]&&(i=a)):a<i&&(i=i+(n-s)+o)}return i},behaviour:function(e){e=e||window.event,y.invalid=[];var t=d.data("mask-keycode");if(-1===n.inArray(t,$.byPassKeys)){t=y.getMasked();var i=y.getCaret(),a=d.data("mask-previus-value")||"";return setTimeout(function(){y.setCaret(y.calculateCaretPosition(a))},n.jMaskGlobals.keyStrokeCompensation),y.val(t),y.setCaret(i),y.callbacks(e)}},getMasked:function(e,t){var i,a,r,o=[],n=void 0===t?y.val():t+"",s=0,l=b.length,d=0,c=n.length,f=1,p="push",u=-1,h=0;for(t=[],r=_.reverse?(p="unshift",f=-1,a=0,s=l-1,d=c-1,function(){return-1<s&&-1<d}):(a=l-1,function(){return s<l&&d<c});r();){var m=b.charAt(s),g=n.charAt(d),v=$.translation[m];v?(g.match(v.pattern)?(o[p](g),v.recursive&&(-1===u?u=s:s===a&&s!==u&&(s=u-f),a===u&&(s-=f)),s+=f):g===i?(h--,i=void 0):v.optional?(s+=f,d-=f):v.fallback?(o[p](v.fallback),s+=f,d-=f):y.invalid.push({p:d,v:g,e:v.pattern}),d+=f):(e||o[p](m),g===m?(t.push(d),d+=f):(i=m,t.push(d+h),h++),s+=f)}return e=b.charAt(a),l!==c+1||$.translation[e]||o.push(e),o=o.join(""),y.mapMaskdigitPositions(o,t,c),o},mapMaskdigitPositions:function(e,t,i){for(e=_.reverse?e.length-i:0,y.maskDigitPosMap={},i=0;i<t.length;i++)y.maskDigitPosMap[t[i]+e]=1},callbacks:function(e){function t(e,t,i){"function"==typeof _[e]&&t&&_[e].apply(this,i)}var i=y.val(),a=i!==o,r=[i,e,d,_];t("onChange",!0==a,r),t("onKeyPress",!0==a,r),t("onComplete",i.length===b.length,r),t("onInvalid",0<y.invalid.length,[i,e,d,y.invalid,_])}};d=n(d);var a,$=this,o=y.val();b="function"==typeof b?b(y.val(),void 0,d,_):b,$.mask=b,$.options=_,$.remove=function(){var e=y.getCaret();return $.options.placeholder&&d.removeAttr("placeholder"),d.data("mask-maxlength")&&d.removeAttr("maxlength"),y.destroyEvents(),y.val($.getCleanVal()),y.setCaret(e),d},$.getCleanVal=function(){return y.getMasked(!0)},$.getMaskedVal=function(e){return y.getMasked(!1,e)},$.init=function(e){if(e=e||!1,_=_||{},$.clearIfNotMatch=n.jMaskGlobals.clearIfNotMatch,$.byPassKeys=n.jMaskGlobals.byPassKeys,$.translation=n.extend({},n.jMaskGlobals.translation,_.translation),$=n.extend(!0,{},$,_),a=y.getRegexMask(),e)y.events(),y.val(y.getMasked());else{_.placeholder&&d.attr("placeholder",_.placeholder),d.data("mask")&&d.attr("autocomplete","off");for(var t=!(e=0);e<b.length;e++){var i=$.translation[b.charAt(e)];if(i&&i.recursive){t=!1;break}}t&&d.attr("maxlength",b.length).data("mask-maxlength",!0),y.destroyEvents(),y.events(),e=y.getCaret(),y.val(y.getMasked()),y.setCaret(e)}},$.init(!d.is("input"))}n.maskWatchers={};function t(){var e=n(this),t={},i=e.attr("data-mask");if(e.attr("data-mask-reverse")&&(t.reverse=!0),e.attr("data-mask-clearifnotmatch")&&(t.clearIfNotMatch=!0),"true"===e.attr("data-mask-selectonfocus")&&(t.selectOnFocus=!0),l(e,i,t))return e.data("mask",new s(this,i,t))}var l=function(e,t,i){i=i||{};var a=n(e).data("mask"),r=JSON.stringify;e=n(e).val()||n(e).text();try{return"function"==typeof t&&(t=t(e)),"object"!=typeof a||r(a.options)!==r(i)||a.mask!==t}catch(e){}},e=function(e){var t=document.createElement("div"),i=(e="on"+e)in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),i};n.fn.mask=function(e,t){t=t||{};function i(){if(l(this,e,t))return n(this).data("mask",new s(this,e,t))}var a=this.selector,r=(o=n.jMaskGlobals).watchInterval,o=t.watchInputs||o.watchInputs;return n(this).each(i),a&&""!==a&&o&&(clearInterval(n.maskWatchers[a]),n.maskWatchers[a]=setInterval(function(){n(document).find(a).each(i)},r)),this},n.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},n.fn.unmask=function(){return clearInterval(n.maskWatchers[this.selector]),delete n.maskWatchers[this.selector],this.each(function(){var e=n(this).data("mask");e&&e.remove().removeData("mask")})},n.fn.cleanVal=function(){return this.data("mask").getCleanVal()},n.applyDataMask=function(e){((e=e||n.jMaskGlobals.maskElements)instanceof n?e:n(e)).filter(n.jMaskGlobals.dataMaskAttr).each(t)},e={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&e("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},n.jMaskGlobals=n.jMaskGlobals||{},(e=n.jMaskGlobals=n.extend(!0,{},e,n.jMaskGlobals)).dataMask&&n.applyDataMask(),setInterval(function(){n.jMaskGlobals.watchDataMask&&n.applyDataMask()},e.watchInterval)},window.jQuery,window.Zepto),function(d){function c(e,t,i){"mousedown"==e?(t.timeout=setTimeout(function(){t.actualInterval=setInterval(function(){i()},100)},200),i()):(t.timeout&&clearTimeout(t.timeout),t.actualInterval&&clearInterval(t.actualInterval))}d.fn.niceNumber=function(e){var l=d.extend({autoSize:!0,autoSizeBuffer:1,buttonDecrement:"-",buttonIncrement:"+",buttonPosition:"around"},e);return this.each(function(){var t=this,i=d(t),a=null,r=null;void 0!==i.attr("max")&&!1!==i.attr("max")&&(a=parseFloat(i.attr("max"))),void 0!==i.attr("min")&&!1!==i.attr("min")&&(r=parseFloat(i.attr("min"))),r&&!t.value&&i.val(r);var e=d("<div/>",{class:"nice-number"}).insertAfter(t),o={},n=d("<button/>").attr("type","button").html(l.buttonDecrement).on("mousedown mouseup mouseleave",function(e){c(e.type,o,function(){(null==r||r<parseFloat(t.value))&&t.value--}),"mouseup"!=e.type&&"mouseleave"!=e.type||i.trigger("input"),i.change()}),s=d("<button/>").attr("type","button").html(l.buttonIncrement).on("mousedown mouseup mouseleave",function(e){c(e.type,o,function(){(null==a||a>parseFloat(t.value))&&t.value++}),"mouseup"!=e.type&&"mouseleave"!=e.type||i.trigger("input"),i.change()});switch(l.buttonPosition){case"left":n.appendTo(e),s.appendTo(e),i.appendTo(e);break;case"right":i.appendTo(e),n.appendTo(e),s.appendTo(e);break;case"around":default:n.appendTo(e),i.appendTo(e),s.appendTo(e)}l.autoSize&&(i.width(i.val().length+l.autoSizeBuffer+"ch"),i.on("keyup input",function(){i.animate({width:i.val().length+l.autoSizeBuffer+"ch"},200)}))})}}(jQuery),function($){var WidgetPafeFormBuilderHandlerDate=function($scope,$){var $elements=$scope.find(".elementor-date-field"),addDatePicker;$elements.length&&(addDatePicker=function addDatePicker($element){var minDate,maxDate,options,options;$($element).hasClass("elementor-use-native")||$($element).hasClass("flatpickr-custom-options")||(minDate=$($element).attr("min")?flatpickr.parseDate($($element).attr("min"),"Y-m-d"):null,maxDate=$($element).attr("max")?flatpickr.parseDate($($element).attr("max"),"Y-m-d"):null,options={minDate:minDate,maxDate:maxDate,dateFormat:$($element).attr("data-date-format")||null,defaultDate:$($element).attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1,onReady:function(e){e=parseInt(e[0]/864e5,10);$($element).attr("data-pafe-form-builder-date-calculate",e)},onClose:function(e){e=parseInt(e[0]/864e5,10);$($element).attr("data-pafe-form-builder-date-calculate",e)}},null!=$($element).data("pafe-form-builder-date-range")&&(options={minDate:minDate,maxDate:maxDate,dateFormat:$($element).attr("data-date-format")||null,defaultDate:$($element).attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1,onClose:function(date){var startDay=flatpickr.formatDate(date[0],"m/d/Y"),endDay=flatpickr.formatDate(date[1],"m/d/Y"),newStartDate=new Date(startDay).getTime(),newEndDate=new Date(endDay).getTime(),newStartDate=eval(newStartDate/1e3+3600),newEndDate=eval(newEndDate/1e3+3600),countDays=eval(newEndDate-newStartDate),countDays=eval(countDays/86400+1);$($element).attr("data-pafe-form-builder-date-range-days",countDays)},mode:"range"}),"english"!=$($element).data("pafe-form-builder-date-language")&&(options.locale=$($element).attr("data-pafe-form-builder-date-language")),$element.flatpickr(options))},$.each($elements,function(e,t){addDatePicker(t)}))},WidgetPafeFormBuilderHandlerTime=function(e,a){e=e.find(".elementor-time-field");e.length&&a.each(e,function(e,t){var i;a(i=t).hasClass("elementor-use-native")||(t=!1,null!=a(i).attr("data-pafe-form-builder-time-24hr")&&(t=!0),i.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,time_24hr:t,defaultDate:a(i).attr("data-pafe-form-builder-value")||null}))})};function FormatNumberBy3(e,t,i){return e=(e=(e=(e=e.toLocaleString("en-US")).replace(/\./g,"|")).replace(/\,/g,i)).replace(/\|/g,t)}function round(e,t,i,a,r){e=Number(Math.round(e+"e"+t)+"e-"+t);if(""==r)return FormatNumberBy3(e,i,a);e=Number(e.toFixed(t)),a=FormatNumberBy3(e,i,a);return Number.isInteger(e)&&0<t&&(a+=i+"0".repeat(t)),a}function roundValue(e,t,i){e=Number(Math.round(e+"e"+t)+"e-"+t);return""==i?e:Number(e.toFixed(t))}function pafeCalculatedFieldsForm(){$(document).find("[data-pafe-form-builder-calculated-fields]").each(function(){var $fieldWidget=$(this).closest(".elementor-element"),$fieldCurrent=$(this),formID=$fieldCurrent.data("pafe-form-builder-form-id"),calculation=$fieldCurrent.data("pafe-form-builder-calculated-fields"),roundingDecimals=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals"),decimalsSymbol=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-decimals-symbol"),decimalsShow=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-show"),separatorsSymbol=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-seperators-symbol"),$repeater=$(this).closest("[data-pafe-form-builder-repeater-form-id]");if(-1==calculation.indexOf("field id"))$('[name^="form_fields"][data-pafe-form-builder-form-id="'+formID+'"]').each(function(){$(this).closest("[data-pafe-form-builder-repeater-form-id]");if(null!=$(this).attr("id")){var e,t=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),i=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+']"]'),a=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+']"]').attr("type");if(0<i.length&&("radio"==a||"checkbox"==a?e=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+']"]:checked').val():null!==i.val()&&(e=i.val().trim()),null==e?e=0:(e=parseFloatWithRemoveSepChar(e,separatorsSymbol),isNaN(e)&&(e=0)),window[t]=e),-1!==t.indexOf("[]")){t=t.replace("[]","");i=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+'][]"]');if(0<i.length){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+'][]"]').attr("type");var r=i.val(),r=[];"checkbox"==fieldTypeMultiple?$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+'][]"]:checked').each(function(e,t){r.push($(this).val())}):null==(r=i.val())&&(r=[]);for(var o=0,n=0;n<r.length;n++)e=parseFloatWithRemoveSepChar(r[n],separatorsSymbol),isNaN(e)&&(e=0),o+=e;window[t]=o}}}});else{var fieldNameArray=calculation.match(/\"(.*?)\"/g);if(null!=fieldNameArray)for(var j=0;j<fieldNameArray.length;j++){var fieldNameSlug=fieldNameArray[j].replace('"',"").replace('"',""),$fieldSelectorExist=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name^="form_fields['+fieldNameSlug+']"]'),$fieldSelector=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldNameSlug+']"]');if(0<$fieldSelectorExist.length){var fieldName=$fieldSelectorExist.attr("name").replace("[]","").replace("form_fields[","").replace("]",""),fieldType=$fieldSelectorExist.attr("type"),fieldValue,fieldValue;if(0<$fieldSelector.length&&("radio"==fieldType||"checkbox"==fieldType?fieldValue=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+']"]:checked').val():null!==$fieldSelector.val()&&(fieldValue=$fieldSelector.val().trim()),null==fieldValue?fieldValue=0:(fieldValue=parseFloatWithRemoveSepChar(fieldValue,separatorsSymbol),isNaN(fieldValue)&&(fieldValue=0)),window[fieldName]=fieldValue),-1!==fieldName.indexOf("[]")){fieldName=fieldName.replace("[]","");var $fieldSelectorMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]');if(0<$fieldSelectorMultiple.length){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]').attr("type");var fieldValueMultiple=$fieldSelectorMultiple.val(),fieldValueMultiple=[],fieldValueMultiple;"checkbox"==fieldTypeMultiple?$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]:checked').each(function(e,t){fieldValueMultiple.push($(this).val())}):(fieldValueMultiple=$fieldSelectorMultiple.val(),null==fieldValueMultiple&&(fieldValueMultiple=[]));for(var fieldValueMultipleTotal=0,j=0;j<fieldValueMultiple.length;j++)fieldValue=parseFloatWithRemoveSepChar(fieldValueMultiple[j],separatorsSymbol),isNaN(fieldValue)&&(fieldValue=0),fieldValueMultipleTotal+=fieldValue;window[fieldName]=fieldValueMultipleTotal}}}}}var calculation=calculation.replace(/\[field id=/g,"").replace(/\"]/g,"").replace(/\"/g,"").replace(/--/g,"+"),totalFieldContent=eval(calculation);$fieldWidget.find(".pafe-calculated-fields-form__value").html(round(totalFieldContent,roundingDecimals,decimalsSymbol,separatorsSymbol,decimalsShow).replace("NaN",0)),$fieldCurrent.val(roundValue(totalFieldContent,roundingDecimals,decimalsShow))})}var WidgetPafeFormBuilderHandlerRangeSlider=function(e,s){e=e.find("[data-pafe-form-builder-range-slider]");e.length&&s.each(e,function(e,t){for(var i={},a=s(t).data("pafe-form-builder-range-slider").split(","),r=0;r<a.length;r++){var o,n=a[r].trim().split(":");null!=n[0]&&null!=n[1]&&(o=n[1].trim().replace('"',"").replace('"',""),i[n[0]]="false"==o||"true"==o?"false"!=o:o)}i.onStart=function(e){pafeCalculatedFieldsForm()},s(t).ionRangeSlider(i)})},WidgetPafeFormBuilderHandlerImageSelect=function(e,s){e=e.find("[data-pafe-form-builder-image-select]");e.length&&s.each(e,function(e,a){var r=s(a).data("pafe-form-builder-image-select"),o=s(a).find("option"),n={show_label:!0};null!=s(a).attr("data-pafe-form-builder-image-select-limit-multiple")&&(n.limit=s(a).attr("data-pafe-form-builder-image-select-limit-multiple")),s(a).closest(".elementor-field").addClass("pafe-image-select-field"),o.eq(0).attr("value").trim(),o.each(function(e,t){var i;""==o.eq(0).attr("value").trim()&&0!=e&&(i=r[e-1].url,s(this).html(),s(this).attr("data-img-src",i),s(a).imagepicker(n)),""!=o.eq(0).attr("value").trim()&&null!=r[e]&&(i=r[e].url,s(this).html(),s(this).attr("data-img-src",i),s(a).imagepicker(n)),s(a).closest(".pafe-image-select-field").find(".thumbnail.selected").closest("li").addClass("disabled")})})},WidgetPafeFormBuilderHandlerStripe=function(e,x){e=e.find("[data-pafe-form-builder-stripe]");e.length&&x.each(e,function(e,t){var s,l,i=x("[data-pafe-stripe]").data("pafe-stripe");void 0!==i&&(s=Stripe(i),(l=s.elements().create("card",{style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}})).mount(t),x(t).data("pafe-form-builder-form-id")),x(document).on("click","[data-pafe-form-builder-submit-form-id][data-pafe-form-builder-stripe-submit]",function(){var v,e,b,_,y,$,o,n;null!=x(this).data("pafe-form-builder-stripe-submit")&&(v=x(this).data("pafe-form-builder-submit-form-id"),e=x(document).find("[data-pafe-form-builder-form-id="+v+"]"),b=x(this).data("pafe-form-builder-required-text"),_=[],y=0,$=new FormData,o=x(this),n=o.closest(".elementor-element"),e.each(function(){if(null==x(this).data("pafe-form-builder-stripe")&&null==x(this).data("pafe-form-builder-html")){var e=x(this).closest(".elementor-field-type-checkbox.elementor-field-required"),t=0;0<e.length&&(t=e.find("input[type=checkbox]:checked").length),null!=x(this).attr("oninvalid")&&(b=x(this).attr("oninvalid").replace("this.setCustomValidity('","").replace("')","")),null!=x(this).attr("data-pafe-is-repassword")&&""!=x(this).attr("data-pafe-is-repassword")&&(l=x('[name="form_fields['+x(this).attr("data-pafe-is-repassword")+']"]').val(),c=x(this).attr("data-pafe-repassword-msg"),String(l)!==String(x(this).val())?(this.setCustomValidity(c),y++,x(this).on("keyup",function(){this.setCustomValidity("")})):this.setCustomValidity(""));var i=x(this)[0].checkValidity(),a=x(x(this)[0]).next()[0];if(x(a).hasClass("flatpickr-mobile")&&(i=a.checkValidity()),i||0!=x(this).closest(".pafe-form-builder-conditional-logic-hidden").length||"none"==x(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")||0!=x(this).closest("[data-pafe-signature]").length)if(""==x(this).val()&&"true"==x(this).attr("aria-required")&&void 0!==x(this).attr("data-pafe-form-builder-select-autocomplete")||0==t&&0<e.length)x(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(b),y++;else{null!=x(this).data("pafe-form-builder-image-select")&&(x(this).closest(".pafe-image-select-field").find(".image_picker_selector").find(".selected").length<x(this).data("pafe-form-builder-image-select-min-select")?(x(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").html("Please select a minimum <b>"+x(this).data("pafe-form-builder-image-select-min-select")+"</b> image(s)"),y++):x(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").remove()),x(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),0<x(this).closest("[data-pafe-signature]").length&&(x(this).closest("[data-pafe-signature]").find("[data-pafe-signature-export]").trigger("click"),""==x(this).val()&&0==x(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"required"==x(this).attr("required")&&(x(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(b),y++));var r,o,n=x(this).attr("type"),s=x(this).attr("name"),l=x(this).closest("[data-pafe-form-builder-repeater-form-id]"),d="",c="",a="",i=-1,t=0;if(0<l.length&&($repeaterParents=x(this).parents("[data-pafe-form-builder-repeater-form-id]"),c=l.data("pafe-form-builder-repeater-id"),$repeaterParents.each(function(){var e=x(this).data("pafe-form-builder-repeater-id"),t=x(document).find('[data-pafe-form-builder-repeater-form-id="'+v+'"][data-pafe-form-builder-repeater-id="'+e+'"]');repeaterParentIndex=x(this).index()-t.index(),d+=e+"|index"+repeaterParentIndex+"|"+s.replace("[]","").replace("form_fields[","").replace("]","")+","}),a=l.data("pafe-form-builder-repeater-label"),e=x(document).find('[data-pafe-form-builder-repeater-id="'+l.data("pafe-form-builder-repeater-id")+'"]'),t=l.siblings('[data-pafe-form-builder-repeater-id="'+l.data("pafe-form-builder-repeater-id")+'"]').length+1,i=l.index()-e.index()),"file"==n)x(this).hasClass("error")?y++:(s=x(this).attr("id").replace("form-field-",""),x.each(x(this)[0].files,function(e,t){$.append(s+"[]",t)}),(o={}).label=x(this).closest(".elementor-field-group").find(".elementor-field-label").html(),o.name=s,o.value="",o.type=x(this).attr("type"),o.upload=1,o.repeater_id=d,o.repeater_id_one=c,o.repeater_label=a,o.repeater_index=i,o.repeater_length=t,null!=x(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(o.repeater_remove_this_field="1"),null!=x(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(o.repeater_remove_this_field="1"),null!=x(this).data("attach-files")&&(o["attach-files"]=1),_.push(o));else{if(-1!==s.indexOf("[]")){var f=[];"checkbox"==n?x(this).closest(".elementor-element").find('[name="'+s+'"]:checked').each(function(){f.push(x(this).val())}):null==(f=x(this).val())&&(f=[]);for(var p,u,h=r="",m=[],g=0;g<f.length;g++)null!=x(this).data("pafe-form-builder-send-data-by-label")&&(p=f[g],"checkbox"==n?0<(u=x(this).closest(".elementor-element").find('[value="'+p+'"]')).length&&(h+=u.data("pafe-form-builder-send-data-by-label")+","):0<(u=x(this).find('[value="'+p+'"]')).length&&(h+=u.html()+",")),r+=f[g]+",",null!=x(this).attr("data-pafe-form-booking-item-options")&&(p=f[g],0<(u=x(this).closest(".elementor-element").find('[value="'+p+'"]')).length&&m.push(u.attr("data-pafe-form-booking-item-options")));r=r.replace(/,(\s+)?$/,"")}else"radio"==n||"checkbox"==n?(null!=x(this).data("pafe-form-builder-send-data-by-label")&&(h=x(this).closest(".elementor-element").find('[name="'+s+'"]:checked').data("pafe-form-builder-send-data-by-label")),r=(r=x(this).closest(".elementor-element").find('[name="'+s+'"]:checked').val())||""):null!=x(this).data("pafe-form-builder-calculated-fields")?r=x(this).siblings(".pafe-calculated-fields-form").text():(null!=x(this).data("pafe-form-builder-send-data-by-label")&&(null!==x(this).val()&&(p=x(this).val().trim()),0<(u=x(this).find('[value="'+p+'"]')).length&&(h=u.html())),null!==x(this).val()&&(r=x(this).val().trim()));null!=r&&((o={}).label=x(this).closest(".elementor-field-group").find(".elementor-field-label").html(),o.name=s.replace("[]","").replace("form_fields[","").replace("]",""),o.value=r,null!=f&&(o.value_multiple=f),o.type=x(this).attr("type"),void 0!==x(this).attr("data-pafe-form-builder-address-autocomplete")&&(o.lat=x(this).attr("data-pafe-form-builder-google-maps-lat"),o.lng=x(this).attr("data-pafe-form-builder-google-maps-lng"),o.zoom=x(this).attr("data-pafe-form-builder-google-maps-zoom")),void 0!==m&&0<m.length&&(o.booking=m),""!=h&&(o.value_label=h),0<x(this).closest(".elementor-field-type-calculated_fields").length&&(o.calculation_results=x(this).val().trim()),0==x(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&(o.repeater_id=d,o.repeater_id_one=c,o.repeater_index=i,o.repeater_label=a,o.repeater_length=t,null!=x(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(o.repeater_remove_this_field="1")),_.push(o))}}else"none"==x(this).css("display")||null!=x(this).data("pafe-form-builder-image-select")||null!=x(this).data("pafe-form-builder-select-autocomplete")?x(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(b):null==x(this).data("pafe-form-builder-image-select")&&x(this)[0].reportValidity(),y++}}),0==y&&s.createToken(l).then(function(e){var a,t,i,r;e.error||(x(document).find('[data-pafe-form-builder-form-id="'+v+'"]').closest(".elementor-element").css({opacity:.45}),o.closest(".elementor-element").css({opacity:.45}),o.closest(".elementor-element").addClass("elementor-form-waiting"),n.find(".elementor-message").removeClass("visible"),a=0,null!=o.data("pafe-form-builder-stripe-amount")?a=o.data("pafe-form-builder-stripe-amount"):null!=o.data("pafe-form-builder-stripe-amount-field")&&(t=o.data("pafe-form-builder-stripe-amount-field").replace('[field id="',"").replace('"]',""),a=x(document).find('[data-pafe-form-builder-form-id="'+v+'"][name="form_fields['+t+']"]').val()),i="",null!=o.data("pafe-form-builder-stripe-customer-info-field")&&(t=o.data("pafe-form-builder-stripe-customer-info-field").replace('[field id="',"").replace('"]',""),i=x(document).find('[data-pafe-form-builder-form-id="'+v+'"][name="form_fields['+t+']"]').val()),x(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+v+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id"),x(document).find('input[name="form_id"][data-pafe-form-builder-hidden-form-id="'+v+'"]').val(),e.token.id,$.append("action","pafe_ajax_stripe_intents"),$.append("post_id",n.find('input[name="post_id"]').closest("[data-elementor-id]").data("elementor-id")),$.append("form_id",n.find('input[name="form_id"]').val()),$.append("fields",JSON.stringify(_)),$.append("referrer",window.location.href),$.append("remote_ip",x(document).find('input[name="remote_ip"][data-pafe-form-builder-hidden-form-id="'+v+'"]').val()),$.append("stripeToken",e.token.id),$.append("amount",a),$.append("description",i),null!=x(this).data("pafe-form-builder-woocommerce-product-id")&&$.append("product_id",x(this).data("pafe-form-builder-woocommerce-product-id")),null!=o.data("pafe-form-builder-submit-post-edit")&&$.append("edit",o.data("pafe-form-builder-submit-post-edit")),null!=o.data("pafe-form-builder-submit-recaptcha")?(r=o.data("pafe-form-builder-submit-recaptcha"),grecaptcha.ready(function(){grecaptcha.execute(r,{action:"create_comment"}).then(function(e){$.append("recaptcha",e),s.createPaymentMethod("card",l,{}).then(function(e){e.error||($.append("payment_method_id",e.paymentMethod.id),x.ajax({url:x("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:$,processData:!1,contentType:!1,success:function(e){var t=x(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+v+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id"),i=JSON.stringify(_);handleServerResponse(JSON.parse(e),t,v,i,a,s,$,n,x(this));l.clear()},error:function(){x(document).find('[data-pafe-form-builder-form-id="'+v+'"]').closest(".elementor-element").css({opacity:1}),n.css({opacity:1}),n.removeClass("elementor-form-waiting"),n.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),n.find("[data-pafe-form-builder-trigger-failed]").trigger("click"),l.clear()}}))})})})):s.createPaymentMethod("card",l,{}).then(function(e){e.error||($.append("payment_method_id",e.paymentMethod.id),x.ajax({url:x("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:$,processData:!1,contentType:!1,success:function(e){var t=x(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+v+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id"),i=JSON.stringify(_);handleServerResponse(JSON.parse(e),t,v,i,a,s,$,n,x(this));l.clear()},error:function(){x(document).find('[data-pafe-form-builder-form-id="'+v+'"]').closest(".elementor-element").css({opacity:1}),n.css({opacity:1}),n.removeClass("elementor-form-waiting"),n.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),n.find("[data-pafe-form-builder-trigger-failed]").trigger("click"),l.clear()}}))}))}))})})};function handleServerResponse(t,i,a,r,o,n,s,l,d){t.error?submitStripeForm("failed",l,a,s,d,t):t.requires_action?t.subscriptions?n.handleCardPayment(t.payment_intent_client_secret).then(function(e){e.error||submitStripeForm("succeeded",l,a,s,d,t)}):n.handleCardAction(t.payment_intent_client_secret).then(function(e){e.error?submitStripeForm("failed",l,a,s,d,t):(s.delete("payment_method_id"),s.append("payment_intent_id",e.paymentIntent.id),$.ajax({url:$("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:s,processData:!1,contentType:!1,success:function(e){console.log(e),handleServerResponse(JSON.parse(e),i,a,r,o,n,s)}}))}):submitStripeForm("succeeded",l,a,s,d,t)}function submitStripeForm(r,e,o,t,i,a){var n=$(document).find('[data-pafe-form-builder-submit-form-id="'+o+'"]').closest(".elementor-element");"failed"==r?($(document).find('[data-pafe-form-builder-form-id="'+o+'"]').closest(".elementor-element").css({opacity:1}),n.css({opacity:1}),n.removeClass("elementor-form-waiting"),n.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),$(document).find('[data-pafe-form-builder-submit-form-id="'+o+'"]').closest(".elementor-element").css({opacity:1}),n.find("[data-pafe-form-builder-trigger-failed]").trigger("click")):(t.delete("stripeToken"),t.delete("action"),t.append("action","pafe_ajax_form_builder"),t.append("payment_intent_id",a.payment_intent_id),$.ajax({url:$("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:t,processData:!1,contentType:!1,success:function(e){var t,i,a;$(document).find('[data-pafe-form-builder-form-id="'+o+'"]').closest(".elementor-element").css({opacity:1}),n.css({opacity:1}),n.removeClass("elementor-form-waiting"),-1!==(e=e.trim()).indexOf(",")&&(t=JSON.parse(e),n.find(".elementor-message").each(function(){var e;""!=t.post_url&&(e=$(this).html().replace("[post_url]",'<a href="'+t.post_url+'">'+t.post_url+"</a>"),$(this).html(e))}),"succeeded"==r||"active"==r?(n.find(".pafe-form-builder-alert--stripe .elementor-message-success").addClass("visible"),n.find("[data-pafe-form-builder-trigger-success]").trigger("click")):(n.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),$(document).find('[data-pafe-form-builder-form-id="'+o+'"]').closest(".elementor-element").css({opacity:1}),$(document).find('[data-pafe-form-builder-submit-form-id="'+o+'"]').closest(".elementor-element").css({opacity:1}),n.find("[data-pafe-form-builder-trigger-failed]").trigger("click")),""!=t.status?n.find(".pafe-form-builder-alert--mail .elementor-message-success").addClass("visible"):(n.find(".pafe-form-builder-alert--mail .elementor-message-danger").addClass("visible"),$(document).find('[data-pafe-form-builder-form-id="'+o+'"]').closest(".elementor-element").css({opacity:1}),$(document).find('[data-pafe-form-builder-submit-form-id="'+o+'"]').closest(".elementor-element").css({opacity:1}),""!=t.register_message&&n.find(".pafe-form-builder-alert--mail .elementor-message-danger").html(t.register_message.replace(/###/g,","))),0!=n.find('input[name="redirect"]').length&&(i=n.find('input[name="redirect"]').val().trim(),a=n.find('input[name="redirect"]').attr("data-pafe-form-builder-open-new-tab"),-1!==e.indexOf(",")&&"1"!=t.failed_status&&(""!=t.post_url&&"[post_url]"==i?window.location.href=t.post_url:""!=t.redirect&&("yes"==a?window.open(t.redirect,"_blank"):window.location.href=t.redirect))),0!=$(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+o+'"]').length&&$(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+o+'"]').trigger("click"),0!=$(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+o+'"]').length&&$(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+o+'"]').trigger("click"),0!=$(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+o+'"]').length&&$(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+o+'"]').trigger("click"))}}))}var WidgetPafeNumberSpinerHandler=function(e,i){e=e.find('[data-pafe-form-builder-spiner] input[type="number"]');e.length&&i.each(e,function(e,t){i(t).niceNumber({autoSize:!1})})};function getIndexColumn(e){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=e.slice(0,1).toUpperCase(),e=e.slice(1,2).toUpperCase();return""==e?t.indexOf(i):26*(t.indexOf(i)+1)+t.indexOf(e)}$(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerDate),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerTime),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerImageSelect),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerStripe),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeNumberSpinerHandler)})}(jQuery),jQuery(document).ready(function(k){k(document).on("change",'[name="upload_field"]',function(){var e=k(this).closest("form"),t=k(this),i=t.data("accept");null==i&&(i="jpg,jpeg,png,gif,pdf,doc,docx,ppt,pptx,odt,avi,ogg,m4a,mov,mp3,mp4,mpg,wav,wmv"),null!=i&&""==i.trim()&&(i="jpg,jpeg,png,gif,pdf,doc,docx,ppt,pptx,odt,avi,ogg,m4a,mov,mp3,mp4,mpg,wav,wmv"),e.validate({rules:{upload_field:{extension:i,maxsize:1048576*parseInt(t.data("maxsize"))}},messages:{upload_field:{extension:t.data("types-message"),maxsize:t.data("maxsize-message")}}}),e.submit(function(e){e.preventDefault()}),e.trigger("submit")}),window.pafeValidateFields=function(e){var r=0;return e.each(function(){var e,t,i,a;null==k(this).data("pafe-form-builder-stripe")&&null==k(this).data("pafe-form-builder-html")&&((t=0)<(e=k(this).closest(".elementor-field-type-checkbox.elementor-field-required")).length&&(t=e.find("input[type=checkbox]:checked").length),null!=k(this).attr("oninvalid")&&(requiredText=k(this).attr("oninvalid").replace("this.setCustomValidity('","").replace("')","")),i=k(this)[0].checkValidity(),a=k(k(this)[0]).next()[0],k(a).hasClass("flatpickr-mobile")&&(i=a.checkValidity()),!i&&0==k(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"none"!=k(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")&&null==k(this).data("pafe-form-builder-honeypot")&&0==k(this).closest("[data-pafe-signature]").length||0==t&&0<e.length&&"none"!=k(this).closest(".elementor-element").css("display")?("none"==k(this).css("display")||"none"==k(this).closest("div").css("display")||null!=k(this).data("pafe-form-builder-image-select")||0<e.length?k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(requiredText):null==k(this).data("pafe-form-builder-image-select")&&k(this)[0].reportValidity(),r++):""==k(this).val()&&"true"==k(this).attr("aria-required")&&void 0!==k(this).attr("data-pafe-form-builder-select-autocomplete")?(k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(requiredText),r++):(k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),0<k(this).closest("[data-pafe-signature]").length&&(k(this).closest("[data-pafe-signature]").find("[data-pafe-signature-export]").trigger("click"),""==k(this).val()&&0==k(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=k(this).attr("required")&&(k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(requiredText),r++))))}),r},k(document).on("click","[data-pafe-form-builder-submit-form-id]",function(){var _,e,y,$,x,w,r,t;null==k(this).attr("data-pafe-form-builder-stripe-submit")&&(_=k(this).data("pafe-form-builder-submit-form-id"),e=k(document).find("[data-pafe-form-builder-form-id="+_+"]"),y=k(this).data("pafe-form-builder-required-text"),$=[],x=0,formData=new FormData,w=!1,r=k(this).closest(".elementor-element"),e.each(function(){if(null==k(this).data("pafe-form-builder-stripe")&&null==k(this).data("pafe-form-builder-html")){var e=k(this).closest(".elementor-field-type-checkbox.elementor-field-required"),t=0;0<e.length&&(t=e.find("input[type=checkbox]:checked").length),null!=k(this).attr("oninvalid")&&(y=k(this).attr("oninvalid").replace("this.setCustomValidity('","").replace("')","")),null!=k(this).attr("data-pafe-is-repassword")&&""!=k(this).attr("data-pafe-is-repassword")&&(a=k('[name="form_fields['+k(this).attr("data-pafe-is-repassword")+']"]').val(),f=k(this).attr("data-pafe-repassword-msg"),String(a)!==String(k(this).val())?(this.setCustomValidity(f),x++,k(this).on("keyup",function(){this.setCustomValidity("")})):this.setCustomValidity(""));var i=k(this)[0].checkValidity(),a=k(k(this)[0]).next()[0];if(k(a).hasClass("flatpickr-mobile")&&(i=a.checkValidity()),!i&&0==k(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"none"!=k(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")&&null==k(this).data("pafe-form-builder-honeypot")&&0==k(this).closest("[data-pafe-signature]").length||0==t&&0<e.length&&"none"!=k(this).closest(".elementor-element").css("display"))"none"==k(this).css("display")||"none"==k(this).closest("div").css("display")||null!=k(this).data("pafe-form-builder-image-select")||0<e.length?k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(y):w||null!=k(this).data("pafe-form-builder-image-select")||(k(this)[0].reportValidity(),w=!0),x++;else if(""==k(this).val()&&"true"==k(this).attr("aria-required")&&void 0!==k(this).attr("data-pafe-form-builder-select-autocomplete"))k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(y),x++;else{null!=k(this).data("pafe-form-builder-image-select")&&(k(this).closest(".pafe-image-select-field").find(".image_picker_selector").find(".selected").length<k(this).data("pafe-form-builder-image-select-min-select")?(k(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").html("Please select a minimum <b>"+k(this).data("pafe-form-builder-image-select-min-select")+"</b> image(s)"),x++):k(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").remove()),k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),0<k(this).closest("[data-pafe-signature]").length&&(k(this).closest("[data-pafe-signature]").find("[data-pafe-signature-export]").trigger("click"),""==k(this).val()&&0==k(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=k(this).attr("required")&&(k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(y),x++));var r,o,n,s,l,d=k(this).attr("type"),c=k(this).attr("name"),f=k(this).closest("[data-pafe-form-builder-repeater-form-id]"),p="",a="",i="",t=-1,e=0;if(0<f.length&&($repeaterParents=k(this).parents("[data-pafe-form-builder-repeater-form-id]"),a=f.data("pafe-form-builder-repeater-id"),$repeaterParents.each(function(){var e=k(this).data("pafe-form-builder-repeater-id"),t=k(document).find('[data-pafe-form-builder-repeater-form-id="'+_+'"][data-pafe-form-builder-repeater-id="'+e+'"]');repeaterParentIndex=k(this).index()-t.index(),p+=e+"|index"+repeaterParentIndex+"|"+c.replace("[]","").replace("form_fields[","").replace("]","")+","}),i=f.data("pafe-form-builder-repeater-label"),n=k(document).find('[data-pafe-form-builder-repeater-id="'+f.data("pafe-form-builder-repeater-id")+'"]'),e=f.siblings('[data-pafe-form-builder-repeater-id="'+f.data("pafe-form-builder-repeater-id")+'"]').length+1,t=f.index()-n.index()),"file"==d)k(this).hasClass("error")?x++:(c=k(this).attr("id").replace("form-field-",""),k.each(k(this)[0].files,function(e,t){formData.append(c+"[]",t)}),(o={}).label=k(this).closest(".elementor-field-group").find(".elementor-field-label").html(),o.name=c,o.value="",o.type=k(this).attr("type"),o.upload=1,o.repeater_id=p,o.repeater_id_one=a,o.repeater_label=i,o.repeater_index=t,o.repeater_length=e,null!=k(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(o.repeater_remove_this_field="1"),null!=k(this).data("attach-files")&&(o["attach-files"]=1),$.push(o));else{if(-1!==c.indexOf("[]")){var u=[];"checkbox"==d?k(this).closest(".elementor-element").find('[name="'+c+'"]:checked').each(function(){u.push(k(this).val())}):null==(u=k(this).val())&&(u=[]);for(var h,m,g=r="",v=[],b=0;b<u.length;b++)null!=k(this).data("pafe-form-builder-send-data-by-label")&&(h=u[b],"checkbox"==d?0<(m=k(this).closest(".elementor-element").find('[value="'+h+'"]')).length&&(g+=m.data("pafe-form-builder-send-data-by-label")+","):0<(m=k(this).find('[value="'+h+'"]')).length&&(g+=m.html()+",")),r+=u[b]+",",null!=k(this).attr("data-pafe-form-booking-item-options")&&(h=u[b],0<(m=k(this).closest(".elementor-element").find('[value="'+h+'"]')).length&&(console.log(m.attr("data-pafe-form-booking-item-options")),v.push(m.attr("data-pafe-form-booking-item-options"))));r=r.replace(/,(\s+)?$/,"")}else"radio"==d||"checkbox"==d?(null!=k(this).data("pafe-form-builder-send-data-by-label")&&(g=k(this).closest(".elementor-element").find('[name="'+c+'"]:checked').data("pafe-form-builder-send-data-by-label")),r=(r=k(this).closest(".elementor-element").find('[name="'+c+'"]:checked').val())||""):null!=k(this).data("pafe-form-builder-calculated-fields")?r=k(this).siblings(".pafe-calculated-fields-form").text():(null!=k(this).data("pafe-form-builder-send-data-by-label")&&(null!==k(this).val()&&(h=k(this).val().trim()),0<(m=k(this).find('[value="'+h+'"]')).length&&(g=m.html())),null!==k(this).val()&&(r=k(this).val().trim()));null!=r&&((o={}).label=k(this).closest(".elementor-field-group").find(".elementor-field-label").html(),o.name=c.replace("[]","").replace("form_fields[","").replace("]",""),f=k(this).attr("data-pafe-form-builder-range-slider-options"),n=k(this).attr("data-pafe-field-type"),o.image_upload=!!n,null!=f&&((s=JSON.parse(f)).prefix||s.postfix)?(l=s.input_values_separator?r.split(s.input_values_separator):r.split(";"),k.each(l,function(e,t){l[e]=s.prefix?s.prefix+t:t+s.postfix}),o.value=s.input_values_separator?l.join(s.input_values_separator):l.join(";")):o.value=r,null!=u&&(o.value_multiple=u),o.type=k(this).attr("type"),void 0!==k(this).attr("data-pafe-form-builder-address-autocomplete")&&(o.lat=k(this).attr("data-pafe-form-builder-google-maps-lat"),o.lng=k(this).attr("data-pafe-form-builder-google-maps-lng"),o.zoom=k(this).attr("data-pafe-form-builder-google-maps-zoom")),void 0!==v&&0<v.length&&(o.booking=v),""!=g&&(o.value_label=g),0<k(this).closest(".elementor-field-type-calculated_fields").length&&(o.calculation_results=k(this).val().trim()),0==k(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&(o.repeater_id=p,o.repeater_id_one=a,o.repeater_label=i,o.repeater_index=t,o.repeater_length=e,null!=k(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(o.repeater_remove_this_field="1")),$.push(o))}}}}),0==x&&(k(document).find('[data-pafe-form-builder-form-id="'+_+'"]').closest(".elementor-element").css({opacity:.45}),k(this).closest(".elementor-element").css({opacity:.45}),k(this).closest(".elementor-element").addClass("elementor-form-waiting"),formData.append("action","pafe_ajax_form_builder"),formData.append("post_id",r.find('input[name="post_id"]').closest("[data-elementor-id]").data("elementor-id")),formData.append("form_id",r.find('input[name="form_id"]').val()),formData.append("fields",JSON.stringify($)),formData.append("referrer",window.location.href),formData.append("remote_ip",k(document).find('input[name="remote_ip"][data-pafe-form-builder-hidden-form-id="'+_+'"]').val()),null!=k(this).data("pafe-form-builder-submit-post-edit")&&formData.append("edit",k(this).data("pafe-form-builder-submit-post-edit")),null!=k(this).data("pafe-form-builder-woocommerce-product-id")&&formData.append("product_id",k(this).data("pafe-form-builder-woocommerce-product-id")),null!=k(this).attr("data-pafe-form-builder-paypal-submit-transaction-id")&&formData.append("paypal_transaction_id",k(this).attr("data-pafe-form-builder-paypal-submit-transaction-id")),null!=k(this).data("pafe-form-builder-submit-recaptcha")?(t=k(this).data("pafe-form-builder-submit-recaptcha"),grecaptcha.ready(function(){grecaptcha.execute(t,{action:"create_comment"}).then(function(e){formData.append("recaptcha",e),r.find(".elementor-message").removeClass("visible"),k.ajax({url:k("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:formData,processData:!1,contentType:!1,success:function(e){var t,i,a;r.css({opacity:1}),r.removeClass("elementor-form-waiting"),k(document).find('[data-pafe-form-builder-form-id="'+_+'"]').closest(".elementor-element").css({opacity:1}),""!=e.trim()?(r.find(".elementor-message-success").addClass("visible"),r.find("[data-pafe-form-builder-trigger-success]").trigger("click")):(r.find(".elementor-message-danger").addClass("visible"),r.find("[data-pafe-form-builder-trigger-failed]").trigger("click")),-1!==e.indexOf(",")&&(t=JSON.parse(e),r.find(".elementor-message").each(function(){var e;""!=t.post_url&&(e=k(this).html().replace("[post_url]",'<a href="'+t.post_url+'">'+t.post_url+"</a>"),k(this).html(e))})),0!=r.find('input[name="redirect"]').length&&(i=r.find('input[name="redirect"]').val().trim(),a=r.find('input[name="redirect"]').attr("data-pafe-form-builder-open-new-tab"),-1!==e.indexOf(",")&&"1"!=t.failed_status&&(""!=t.post_url&&"[post_url]"==i?window.location.href=t.post_url:""!=t.redirect&&("yes"==a?window.open(t.redirect,"_blank"):window.location.href=t.redirect))),0!=k(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+_+'"]').length&&k(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+_+'"]').trigger("click"),0!=k(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+_+'"]').length&&k(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+_+'"]').trigger("click"),0!=k(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+_+'"]').length&&k(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+_+'"]').trigger("click")}})})})):(r.find(".elementor-message").removeClass("visible"),k.ajax({url:k("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:formData,processData:!1,contentType:!1,success:function(e){var t,i,a;r.css({opacity:1}),r.removeClass("elementor-form-waiting"),k(document).find('[data-pafe-form-builder-form-id="'+_+'"]').closest(".elementor-element").css({opacity:1}),-1!==e.indexOf(",")&&(t=JSON.parse(e),r.find(".elementor-message").each(function(){var e;""!=t.post_url&&(e=k(this).html().replace("[post_url]",'<a href="'+t.post_url+'">'+t.post_url+"</a>"),k(this).html(e))}),"succeeded"!=t.payment_status&&"active"!=t.payment_status||r.find(".pafe-form-builder-alert--stripe .elementor-message-success").addClass("visible"),"pending"==t.payment_status&&r.find(".pafe-form-builder-alert--stripe .elementor-help-inline").addClass("visible"),"failed"!=t.payment_status&&"incomplete"!=t.payment_status||(r.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),k(document).find('[data-pafe-form-builder-form-id="'+_+'"]').closest(".elementor-element").css({opacity:1}),k(this).closest(".elementor-element").css({opacity:1})),""!=t.status?(r.find(".pafe-form-builder-alert--mail .elementor-message-success").addClass("visible"),r.find("[data-pafe-form-builder-trigger-success]").trigger("click")):(r.find(".pafe-form-builder-alert--mail .elementor-message-danger").addClass("visible"),k(document).find('[data-pafe-form-builder-form-id="'+_+'"]').closest(".elementor-element").css({opacity:1}),k(this).closest(".elementor-element").css({opacity:1}),r.find("[data-pafe-form-builder-trigger-failed]").trigger("click"),""!=t.register_message&&r.find(".pafe-form-builder-alert--mail .elementor-message-danger").html(t.register_message.replace(/###/g,",")))),0!=r.find('input[name="redirect"]').length&&(i=r.find('input[name="redirect"]').val().trim(),a=r.find('input[name="redirect"]').attr("data-pafe-form-builder-open-new-tab"),-1!==e.indexOf(",")&&"1"!=t.failed_status&&(""!=t.post_url&&"[post_url]"==i?window.location.href=t.post_url:""!=t.redirect&&("yes"==a?window.open(t.redirect,"_blank"):window.location.href=t.redirect))),0!=k(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+_+'"]').length&&k(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+_+'"]').trigger("click"),0!=k(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+_+'"]').length&&k(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+_+'"]').trigger("click"),0!=k(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+_+'"]').length&&k(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+_+'"]').trigger("click")}}))))})}),jQuery(document).ready(function($){function pafeConditionalLogicFormCheck(e){e.each(function(){var e,t,i,a,r,o=$(this),n=$(this).data("pafe-form-builder-conditional-logic-not-field"),s=o.data("pafe-form-builder-conditional-logic-speed"),l=o.data("pafe-form-builder-conditional-logic-easing"),d=o.data("pafe-form-builder-conditional-logic"),c=!0,f=$(this).closest("[data-pafe-form-builder-repeater-id]");if(null!=d){a=null!=n?(t=(e=$(this)).closest(".elementor-location-popup").length,(i=$(this)).data("pafe-form-builder-conditional-logic-not-field-form-id")):(t=(e=$(this).closest(".elementor-element")).closest(".elementor-location-popup").length,(i=o.find("[data-pafe-form-builder-form-id]")).data("pafe-form-builder-form-id")),0<$(this).closest(".pafe-multi-step-form__content-item-button").length&&(e=$(this).closest(".pafe-multi-step-form__content-item-button")).find("[data-pafe-form-builder-conditional-logic]").css({display:"block"}),-1!==JSON.stringify(d).indexOf("pafe")&&-1==JSON.stringify(d).indexOf("show")&&(c=!1),null!=n&&(c=!0),r=null!=n?1:i.attr("name").replace("[]","").replace("form_fields[","").replace("]","");for(var p=0,u=0,h="",m="",g=0;g<d.length;g++){F=null!=n?1:i.attr("name").replace("form_fields[","").replace("[]","").replace("]","");var v,b=d[g].pafe_conditional_logic_form_if.trim().replace('[field id="',"").replace('"]',""),_=d[g].pafe_conditional_logic_form_comparison_operators,y=d[g].pafe_conditional_logic_form_value,x=d[g].pafe_conditional_logic_form_type,w=p;if("number"==x&&(y=parseInt(y)),r==F&&(u++,h=d[g].pafe_conditional_logic_form_and_or_operators,""!=b)){0<f.length&&0!=(v=f.find('[name="form_fields['+b+']"][data-pafe-form-builder-form-id="'+a+'"]')).length||(v=$(document).find('[name="form_fields['+b+']"][data-pafe-form-builder-form-id="'+a+'"]'));var k,C,F=v.attr("type");if(0<v.length&&(null!=(C=("radio"==F||"checkbox"==F?(0<f.length?f:$(document)).find('[data-pafe-form-builder-form-id="'+a+'"][name="form_fields['+b+']"]:checked'):v).val())&&-1!==C.indexOf(";")&&(C=(C=C.split(";"))[0]),"number"==x&&(null==C?C=0:(C=parseInt(C),isNaN(C)&&(C=0))),"not-empty"==_&&(""!=C&&0!=C||(p+=1)),"empty"==_&&(""==C&&0==C||(p+=1)),"="==_&&C!=y&&(p+=1),"!="==_&&C==y&&(p+=1),">"==_&&C<=y&&(p+=1),">="==_&&C<y&&(p+=1),"<"==_&&y<=C&&(p+=1),"<="==_&&y<C&&(p+=1),"checked"==_&&(v.prop("checked")||(p+=1)),"unchecked"==_&&v.prop("checked")&&(p+=1),"contains"==_&&-1===C.indexOf(y)&&(p+=1)),0<f.length&&0!=(k=f.find('[data-pafe-form-builder-form-id="'+a+'"][name="form_fields['+b+'][]"]')).length||(k=$(document).find('[data-pafe-form-builder-form-id="'+a+'"][name="form_fields['+b+'][]"]')),0<k.length){C=(0<f.length?f:$(document)).find('[data-pafe-form-builder-form-id="'+a+'"][name="form_fields['+b+'][]"]').attr("type");var S=k.val(),S=[];if("checkbox"==C?(0<f.length?f:$(document)).find('[data-pafe-form-builder-form-id="'+a+'"][name="form_fields['+b+'][]"]:checked').each(function(){S.push($(this).val())}):null==(S=k.val())&&(S=[]),"not-empty"==_&&0==S.length&&(p+=1),"empty"==_&&0<S.length&&(p+=1),"="!=_&&"!="!=_&&">"!=_&&">="!=_&&"<"!=_&&"<="!=_||0==S.length&&(p+=1),"="==_)for(var D=0;D<S.length;D++)S[D]!=y&&(p+=1);if("!="==_)for(D=0;D<S.length;D++)S[D]==y&&(p+=1);if(">"==_)for(D=0;D<S.length;D++)S[D]<=y&&(p+=1);if(">="==_)for(D=0;D<S.length;D++)S[D]<y&&(p+=1);if("<"==_)for(D=0;D<S.length;D++)S[D]>=y&&(p+=1);if("<="==_)for(D=0;D<S.length;D++)S[D]>y&&(p+=1);"contains"==_&&-1===S.join().indexOf(y)&&(p+=1)}}var A,I=i;w==p&&null!=d[g]&&null!=d[g].pafe_conditional_logic_form_set_value&&-1!==d[g].pafe_conditional_logic_form_action.indexOf("set_value")&&(m=d[g].pafe_conditional_logic_form_set_value,null!=d[g].pafe_conditional_logic_form_set_value_for&&""!=d[g].pafe_conditional_logic_form_set_value_for?null==(A=0<f.length?(I=f.find('[data-pafe-form-builder-form-id="'+a+'"][name^="form_fields['+d[g].pafe_conditional_logic_form_set_value_for+']"]'),f.find('[data-pafe-form-builder-form-id="'+a+'"][name^="form_fields['+d[g].pafe_conditional_logic_form_set_value+']"]').val()):(I=$(document).find('[data-pafe-form-builder-form-id="'+a+'"][name^="form_fields['+d[g].pafe_conditional_logic_form_set_value_for+']"]'),$(document).find('[data-pafe-form-builder-form-id="'+a+'"][name^="form_fields['+d[g].pafe_conditional_logic_form_set_value+']"]').val()))&&(A=d[g].pafe_conditional_logic_form_set_value):(I=i,0))}var M=i.find("option:first"),P=!1;"radio"!=I.attr("type")&&"checkbox"!=I.attr("type")||(P=!0);var T,N=i.data("pafe-form-builder-default-value");"or"==h&&(p<u?(0<t?"hidden"==i.attr("type")&&void 0===i.attr("data-date-format")||e.show().removeClass("pafe-form-builder-conditional-logic-hidden"):"hidden"!=i.attr("type")?($paypal_element_button=e.closest(".elementor-widget-pafe-form-builder-submit").find(".pafe-form-builder-paypal"),(0<$paypal_element_button.length?$paypal_element_button:e).slideDown(s,l).removeClass("pafe-form-builder-conditional-logic-hidden")):void 0!==i.attr("data-date-format")&&e.slideDown(s,l).removeClass("pafe-form-builder-conditional-logic-hidden"),I.each(function(){""!=m&&P&&(m==$(this).val()&&$(this).prop("checked",!0),"unchecked"==m||"checked"==m?"unchecked"==m?$(this).prop("checked",!1):$(this).prop("checked",!0):m==$(this).val()&&$(this).prop("checked",!0)),""==m||P||$(this).val(A)})):(0<t?c&&(e.hide().addClass("pafe-form-builder-conditional-logic-hidden"),null!=n&&(null!=(T=o.data("pafe-form-builder-repeater-id"))&&o.siblings('[data-pafe-form-builder-repeater-id="'+T+'"]').remove(),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?t?($(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),i==$(this).val()&&$(this).prop("checked",!0)):$(this).val(i):0!=e.length?$(this).val(e.val()):t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")}))):c&&($paypal_element_button=e.closest(".elementor-widget-pafe-form-builder-submit").find(".pafe-form-builder-paypal"),(0<$paypal_element_button.length?$paypal_element_button:e).slideUp(s,l).addClass("pafe-form-builder-conditional-logic-hidden"),null!=n&&(null!=(T=o.data("pafe-form-builder-repeater-id"))&&o.siblings('[data-pafe-form-builder-repeater-id="'+T+'"]').remove(),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?t?($(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),i==$(this).val()&&$(this).prop("checked",!0)):$(this).val(i):0!=e.length?$(this).val(e.val()):t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")}))),null==n&&(null!=N&&""!=N||Number.isInteger(N)?P?(i.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),N==i.val()&&i.prop("checked",!0)):i.val(N):0!=M.length?i.val(M.val()):P?i.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):i.val("")))),"and"==h&&(0==p?(0<t?"hidden"==i.attr("type")&&void 0===i.attr("data-date-format")||e.show():"hidden"!=i.attr("type")?($paypal_element_button=e.closest(".elementor-widget-pafe-form-builder-submit").find(".pafe-form-builder-paypal"),(0<$paypal_element_button.length?$paypal_element_button:e).slideDown(s,l).removeClass("pafe-form-builder-conditional-logic-hidden")):void 0!==i.attr("data-date-format")&&e.slideDown(s,l).removeClass("pafe-form-builder-conditional-logic-hidden"),I.each(function(){""!=m&&P&&(m==$(this).val()&&$(this).prop("checked",!0),"unchecked"==m||"checked"==m?"unchecked"==m?$(this).prop("checked",!1):$(this).prop("checked",!0):m==$(this).val()&&$(this).prop("checked",!0)),""==m||P||$(this).val(m)})):(0<t?c&&(e.hide(),null!=n&&(null!=(T=o.data("pafe-form-builder-repeater-id"))&&o.siblings('[data-pafe-form-builder-repeater-id="'+T+'"]').remove(),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?t?($(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),i==$(this).val()&&$(this).prop("checked",!0)):$(this).val(i):0!=e.length?$(this).val(e.val()):t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")}))):c&&($paypal_element_button=e.closest(".elementor-widget-pafe-form-builder-submit").find(".pafe-form-builder-paypal"),(0<$paypal_element_button.length?$paypal_element_button:e).slideUp(s,l).addClass("pafe-form-builder-conditional-logic-hidden"),null!=n&&(null!=(T=o.data("pafe-form-builder-repeater-id"))&&o.siblings('[data-pafe-form-builder-repeater-id="'+T+'"]').remove(),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?t?($(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),i==$(this).val()&&$(this).prop("checked",!0)):$(this).val(i):0!=e.length?$(this).val(e.val()):t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")}))),null==n&&(null!=N&&""!=N||Number.isInteger(N)?P?(i.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),N==i.val()&&i.prop("checked",!0)):i.val(N):0!=M.length?i.val(M.val()):P?i.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):i.val(""))));M=$(this).closest("[data-pafe-form-builder-repeater-form-id]");0<M.length?($repeaterCalculatedFields=M.find("[data-pafe-form-builder-calculated-fields]"),$repeaterCalculatedFields.each(function(){pafeCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))})):pafeCalculatedFieldsForm("")}})}var $conditionals=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]");function FormatNumberBy3(e,t,i){return e=(e=(e=(e=e.toLocaleString("en-US")).replace(/\./g,"|")).replace(/\,/g,i)).replace(/\|/g,t)}function round(e,t,i,a,r){e=Number(Math.round(e+"e"+t)+"e-"+t);if(""==r)return FormatNumberBy3(e,i,a);e=Number(e.toFixed(t)),a=FormatNumberBy3(e,i,a);return Number.isInteger(e)&&0<t&&(a+=i+"0".repeat(t)),a}function roundValue(e,t,i){e=Number(Math.round(e+"e"+t)+"e-"+t);return""==i?e:Number(e.toFixed(t))}function pafeCalculatedFieldsForm(fieldNameElement){var selector="[data-pafe-form-builder-calculated-fields]";""!=fieldNameElement&&(fieldNameElement='[field id="'+fieldNameElement+'"]',selector="[data-pafe-form-builder-calculated-fields*='"+fieldNameElement+"'],[data-pafe-form-builder-calculated-fields-coupon-code='"+fieldNameElement+"']"),$(document).find(selector).each(function(){var $fieldWidget=$(this).closest(".elementor-element"),$fieldCurrent=$(this),formID=$fieldCurrent.data("pafe-form-builder-form-id"),calculation=$fieldCurrent.data("pafe-form-builder-calculated-fields"),roundingDecimals=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals"),decimalsSymbol=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-decimals-symbol"),decimalsShow=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-show"),separatorsSymbol=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-seperators-symbol"),$repeater=$(this).closest("[data-pafe-form-builder-repeater-form-id]");if(-1==calculation.indexOf("field id"))$(document).find('[name^="form_fields"][data-pafe-form-builder-form-id="'+formID+'"]').each(function(e,t){if(null!=$(this).attr("id")){var i,a=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),r=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+a+']"]'),o=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+a+']"]').attr("type"),n=$(this).closest("[data-pafe-form-builder-repeater-form-id]");if(0<r.length&&("radio"==o||"checkbox"==o?i=(0<n.length?$(t.closest("[data-pafe-form-builder-repeater-form-id]")):$(document)).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+a+']"]:checked').val():null!==r.val()&&(i=r.val().trim()),null==i?i=0:(i=parseFloatWithRemoveSepChar(i,separatorsSymbol),isNaN(i)&&(i=0)),0<n.length?(l=$(document).find('[data-pafe-form-builder-repeater-form-id="'+$repeater.data("pafe-form-builder-repeater-form-id")+'"]'),d=$repeater.index()-l.index(),window["pafe_"+a+"_piotnetpafe"+d+"x"]=i):window[a]=i),-1!==a.indexOf("[]")){a=a.replace("[]","");if(0<(r=(0<n.length?n:$(document)).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+a+'][]"]')).length){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+a+'][]"]').attr("type");var s=[];"checkbox"==fieldTypeMultiple?0<n.length?n.find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+a+'][]"]:checked').each(function(e,t){s.push($(this).val())}):$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+a+'][]"]:checked').each(function(e,t){s.push($(this).val())}):null==(s=r.val())&&(s=[]);for(var l,d,c=0,f=0;f<s.length;f++)i=parseFloatWithRemoveSepChar(s[f],separatorsSymbol),isNaN(i)&&(i=0),c+=i;0<n.length?(l=$(document).find('[data-pafe-form-builder-repeater-form-id="'+$repeater.data("pafe-form-builder-repeater-form-id")+'"]'),d=$repeater.index()-l.index(),window["pafe_"+a+"_piotnetpafe"+d+"x"]=c):window[a]=c}}}});else{var fieldNameArray=calculation.match(/\"(.*?)\"/g);if(null!=fieldNameArray)for(var jx=0;jx<fieldNameArray.length;jx++){var fieldNameSlug=fieldNameArray[jx].replace('"',"").replace('"',""),$fieldSelectorExist=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name^="form_fields['+fieldNameSlug+']"]'),$fieldSelector=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldNameSlug+']"]');if(0<$fieldSelectorExist.length){var fieldName=$fieldSelectorExist.attr("name").replace("form_fields[","").replace("]",""),fieldType=$fieldSelectorExist.attr("type"),fieldValue,fieldValue;if(1<=$fieldSelector.length&&0==$fieldSelector.closest("[data-pafe-form-builder-repeater-id]").length&&("radio"==fieldType||"checkbox"==fieldType?fieldValue=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+']"]:checked').val():null!==$fieldSelector.val()&&(fieldValue=$fieldSelector.val().trim()),null==fieldValue?fieldValue=0:(fieldValue=parseFloatWithRemoveSepChar(fieldValue,separatorsSymbol),isNaN(fieldValue)&&(fieldValue=0)),null!=$fieldSelector.attr("data-pafe-form-builder-date-range-days")&&(fieldValue=$fieldSelector.attr("data-pafe-form-builder-date-range-days")),null!=$fieldSelector.attr("data-pafe-form-builder-date-calculate")&&(fieldValue=$fieldSelector.attr("data-pafe-form-builder-date-calculate")),null!=$fieldSelector.attr("data-pafe-form-builder-form-booking-price")&&(fieldValue=$fieldSelector.attr("data-pafe-form-builder-form-booking-price")),window[fieldName]=parseFloatWithRemoveSepChar(fieldValue,separatorsSymbol),0<$fieldSelector.closest("[data-pafe-form-builder-conditional-logic]").length&&"none"==$fieldSelector.closest(".elementor-element").css("display")&&(window[fieldName]=0)),(1<$fieldSelector.length||1==$fieldSelector.length&&0<$fieldSelector.closest("[data-pafe-form-builder-repeater-id]").length)&&($repeater_field=$fieldSelector.closest("[data-pafe-form-builder-repeater-id]"),0<$repeater_field.length&&$fieldSelector.each(function(e,t){var i;null==(i="radio"==fieldType||"checkbox"==fieldType?$(t.closest("[data-pafe-form-builder-repeater-id]")).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+']"]:checked').val():$(this).val().trim())?i=0:(i=parseFloatWithRemoveSepChar(i,separatorsSymbol),isNaN(i)&&(i=0)),null!=$(this).attr("data-pafe-form-builder-date-range-days")&&(i=$(this).attr("data-pafe-form-builder-date-range-days"));t=$(document).find('[data-pafe-form-builder-repeater-form-id="'+$repeater.data("pafe-form-builder-repeater-form-id")+'"]'),t=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-t.index();0<$(this).closest("[data-pafe-form-builder-conditional-logic]").length&&"none"==$(this).closest(".elementor-element").css("display")&&(i=0),window["pafe_"+fieldName+"_piotnetpafe"+t+"x"]=parseFloatWithRemoveSepChar(i,separatorsSymbol)})),-1!==fieldName.indexOf("[]")){fieldName=fieldName.replace("[]","");var $fieldSelectorMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]'),fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]').attr("type");if($repeater_field=$(this).closest("[data-pafe-form-builder-repeater-id]"),1==$fieldSelectorMultiple.length||1<$fieldSelectorMultiple.length&&0==$repeater_field.length){var fieldValueMultiple=[],fieldValueMultiple;"checkbox"==fieldTypeMultiple?$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]:checked').each(function(e,t){null!=$(this).attr("data-pafe-form-builder-form-booking-price")?fieldValueMultiple.push($(this).attr("data-pafe-form-builder-form-booking-price")):fieldValueMultiple.push($(this).val())}):(fieldValueMultiple=$fieldSelectorMultiple.val(),null==fieldValueMultiple&&(fieldValueMultiple=[]));for(var fieldValueMultipleTotal=0,j=0;j<fieldValueMultiple.length;j++)fieldValue=parseFloatWithRemoveSepChar(fieldValueMultiple[j],separatorsSymbol),isNaN(fieldValue)&&(fieldValue=0),fieldValueMultipleTotal+=fieldValue;0<$fieldSelectorMultiple.closest("[data-pafe-form-builder-conditional-logic]").length&&"none"==$fieldSelectorMultiple.closest(".elementor-element").css("display")&&(fieldValueMultipleTotal=0),window[fieldName]=fieldValueMultipleTotal}0<$repeater_field.length&&(1<$fieldSelectorMultiple.length||1==$fieldSelectorMultiple.length&&$repeater_field.length)&&($fieldSelectorMultiple=$repeater_field.find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]'),$fieldSelectorMultiple.each(function(){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]').attr("type");var i=[];"checkbox"==fieldTypeMultiple?$repeater_field.find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]:checked').each(function(e,t){i.push($(this).val())}):null==(i=$fieldSelectorMultiple.val())&&(i=[]);for(var e=fieldValueMultipleTotal=0;e<i.length;e++)fieldValue=parseFloatWithRemoveSepChar(i[e],separatorsSymbol),isNaN(fieldValue)&&(fieldValue=0),fieldValueMultipleTotal+=fieldValue;var t=$(document).find('[data-pafe-form-builder-repeater-form-id="'+$repeater.data("pafe-form-builder-repeater-form-id")+'"]'),t=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-t.index();0<$(this).closest("[data-pafe-form-builder-conditional-logic]").length&&"none"==$(this).closest(".elementor-element").css("display")&&(fieldValueMultipleTotal=0),window["pafe_"+fieldName+"_piotnetpafe"+t+"x"]=fieldValueMultipleTotal}))}}}}var $repeaterAll=$(document).find('[data-pafe-form-builder-repeater-form-id="'+formID+'"]'),repeaterIndex=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-$repeaterAll.index();if(0<$repeaterAll.length){var keyValues=[],global=window,prop,prop,propArray,propNew,prop,propNew;for(prop in global)0==prop.indexOf("piotnet_")&&(window[prop]=0);for(prop in global){0==prop.indexOf("pafe_")&&(propArray=prop.split("_piotnetpafe"),propNew=propArray[0].replace("pafe_","piotnet_"),window[propNew]+=window[prop])}for(prop in global){0==prop.indexOf("piotnet_")&&(propNew=prop.replace("piotnet_",""),window[propNew]=window[prop])}}var fieldNameArray=calculation.match(/\"(.*?)\"/g),propArray,fieldNameArraySplit,find,re,calculation;if(null!=fieldNameArray)for(var jx=0;jx<fieldNameArray.length;jx++){var fieldName=fieldNameArray[jx].replace('"',"").replace('"',""),sectionNumbers,find,re,calculation;$fieldCalc=$(document).find('[data-pafe-form-builder-repeater-id] [data-pafe-form-builder-calculated-fields][name="form_fields['+fieldName+']"]'),0<$fieldCalc.length&&(fieldCalcTotal=0,sectionNumbers=[],$fieldCalc.each(function(){var e=$(this).closest('[data-pafe-form-builder-repeater-form-id="'+formID+'"]').attr("data-pafe-form-builder-repeater-number");sectionNumbers.indexOf(e)<0&&(sectionNumbers.push(e),fieldCalcTotal+=parseFloatWithRemoveSepChar($(this).val(),separatorsSymbol))}),find=fieldName,re=new RegExp(find,"g"),calculation=calculation.replace(re,fieldCalcTotal))}if(0<$repeaterAll.length)for(var prop in global){0==prop.indexOf("pafe_")&&-1!==prop.indexOf("_piotnetpafe"+repeaterIndex+"x")&&(propArray=prop.split("_piotnetpafe"),fieldNameArraySplit=propArray[0].split("pafe_"),find=fieldNameArraySplit[1],re=new RegExp(find,"g"),calculation=calculation.replace(re,prop))}if(null!=fieldNameArray)for(var jx=0;jx<fieldNameArray.length;jx++){var fieldName=fieldNameArray[jx].replace('"',"").replace('"',"");null==window[fieldName]&&(window[fieldName]=0)}var calculation=calculation.replace(/\[field id=/g,"").replace(/\"]/g,"").replace(/\"/g,"").replace(/--/g,"+"),totalFieldContent=eval(calculation),fieldNameCalc;if(null!=$(this).attr("data-pafe-form-builder-calculated-fields-coupon-code")){var $couponCodeFields=$(document).find('[name="form_fields['+$(this).attr("data-pafe-form-builder-calculated-fields-coupon-code").replace('[field id="',"").replace('"]',"")+']"]');if(0<$couponCodeFields.length)for(var $couponCodeField=$couponCodeFields.eq(0),couponObj=JSON.parse($couponCodeField.attr("data-pafe-coupon-code-list")),couponIndex=0;couponIndex<couponObj.length;couponIndex++){var couponItem=couponObj[couponIndex];$couponCodeField.val()==couponItem.pafe_coupon_code&&("percentage"==couponItem.pafe_coupon_code_discount_type&&(totalFieldContent*=parseFloat((100-couponItem.pafe_coupon_code_coupon_amount)/100)),"flat_amount"==couponItem.pafe_coupon_code_discount_type&&(totalFieldContent-=parseFloat(couponItem.pafe_coupon_code_coupon_amount)))}}isNaN(totalFieldContent)||($fieldWidget.find(".pafe-calculated-fields-form__value").html(round(totalFieldContent,roundingDecimals,decimalsSymbol,separatorsSymbol,decimalsShow).replace("NaN",0)),$fieldCurrent.val(roundValue(totalFieldContent,roundingDecimals,decimalsShow)),fieldNameCalc=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),pafeCalculatedFieldsForm(fieldNameCalc))})}function IDGenerator(){this.length=8,this.timestamp=+new Date;this.generate=function(){for(var e,t,i=this.timestamp.toString().split("").reverse(),a="",r=0;r<this.length;++r)a+=i[e=0,t=i.length-1,Math.floor(Math.random()*(t-e+1))+e];return a}}function generateRandomString(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=i.length,r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*a));return t}function setFieldValue(e,s){var l=e.find("option:first"),d=!1;"radio"!=e.attr("type")&&"checkbox"!=e.attr("type")||(d=!0);var c=e.closest(".elementor-element").find("[data-pafe-form-builder-image-upload]");e.data("pafe-form-builder-default-value");e.each(function(){if(""!=s&&d){for(var e=s.split(","),t=0;t<e.length;t++)e[t]==$(this).val()&&$(this).prop("checked",!0);"unchecked"==s||"checked"==s?"unchecked"==s?$(this).prop("checked",!1):$(this).prop("checked",!0):s==$(this).val()&&$(this).prop("checked",!0)}var i,a;if(""==s||d||0!=l.length||$(this).val(s),0!=l.length&&(i=$(this).find("option"),a=$(this),i.each(function(){$(this).attr("value")!=s&&$(this).html()!=s||(a.val($(this).attr("value")),null!=a.data("picker")&&a.data("picker").sync_picker_with_select())})),0!=c.length&&""!=s&&null!=s){var r,o=s.split(","),n=$(this).closest(".elementor-element").find("[data-pafe-form-builder-image-upload-label]");for(r in null==n.attr("multiple")&&n.addClass("pafe-form-builder-image-upload-label-hidden"),o)n.before('<div class="pafe-form-builder-image-upload-placeholder pafe-form-builder-image-upload-uploaded" style="background-image:url('+o[r]+')" data-pafe-form-builder-image-upload-placeholder=""><input type="text" style="display:none;" data-pafe-form-builder-image-upload-item value="'+o[r]+'"><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--remove" data-pafe-form-builder-image-upload-button-remove><i class="fa fa-times" aria-hidden="true"></i></span><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--uploading" data-pafe-form-builder-image-upload-button-uploading><i class="fa fa-spinner fa-spin"></i></span></div>')}$(this).change()})}function reInitFieldRepeater(e){var t=e.find("[data-pafe-form-builder-image-upload]");0<t.length&&t.each(function(){$imageUploadedFieldWidget=$(this).closest(".elementor-element"),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-placeholder]").remove(),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-label]").show(0),$imageUploadedFieldWidget.find("[data-pafe-form-builder-form-id]").val("")});t=e.find("[data-pafe-form-builder-image-select]");0<t.length&&t.each(function(){$(this).closest(".elementor-field").find(".image_picker_selector").remove();var a=$(this).data("pafe-form-builder-image-select"),r=$(this).find("option");$(this).closest(".elementor-field").addClass("pafe-image-select-field");var o=$(this);r.each(function(e,t){var i;""==r.eq(0).attr("value").trim()&&0!=e&&(i=a[e-1].url,$(this).html(),$(this).attr("data-img-src",i),o.imagepicker({show_label:!0})),""!=r.eq(0).attr("value").trim()&&(i=a[e].url,$(this).html(),$(this).attr("data-img-src",i),o.imagepicker({show_label:!0}))})});t=e.find("[data-pafe-form-builder-spiner] .nice-number");0<t.length&&t.each(function(){var e=$(this).closest("[data-pafe-form-builder-spiner]"),t=$(this).find(".elementor-field").prop("outerHTML");$(this).after(t),$(this).remove(),e.find(".elementor-field").niceNumber({autoSize:!1})});t=e.find("[data-pafe-form-builder-repeater-id]");0<t.length&&t.each(function(){var e=$(this).data("pafe-form-builder-repeater-id");$(this).siblings('[data-pafe-form-builder-repeater-id="'+e+'"]').remove()}),e.find("[data-mask]").each(function(){$(this).mask($(this).attr("data-mask"))}),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?$(this).val(i).change():0!=e.length?$(this).val(e.val()).change():t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")});t=e.find("[data-pafe-form-builder-select-autocomplete]");0<t.length&&t.each(function(){var e=JSON.parse($(this).attr("data-options")),t="";console.log(e);for(var i=0;i<e.length;i++){var a=e[i];0<=a.indexOf("|")?t+='<option value="'+(a=a.split("|"))[0]+'">'+a[1]+"</option>":t+='<option value="'+a+'">'+a+"</option>"}$(this).html(t),$(this).closest(".elementor-field").find(".selectize-control").remove(),$(this).selectize({dropdownParent:"body"})});t=e.find(".elementor-date-field");0<t.length&&t.each(function(){var e,t;(e=$(this)).hasClass("elementor-use-native")||(t={minDate:$(e).attr("min")?flatpickr.parseDate($(e).attr("min"),"Y-m-d"):null,maxDate:$(e).attr("max")?flatpickr.parseDate($(e).attr("max"),"Y-m-d"):null,dateFormat:e.attr("data-date-format")||null,defaultDate:e.attr("data-pafe-form-builder-value")||null,allowInput:!0},e.flatpickr(t))});e=e.find(".elementor-time-field");0<e.length&&e.each(function(){var e;(e=$(this)).hasClass("elementor-use-native")||e.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:e.attr("data-pafe-form-builder-value")||null})})}function pafePreviewSubmission(){var e=$(document).find("[data-pafe-form-builder-preview-submission]");0<e.length&&e.each(function(){var m=$(this).attr("data-pafe-form-builder-preview-submission"),e=$(document).find("[data-pafe-form-builder-form-id="+m+"]"),g=[],t=new FormData,i=$(this);i.closest(".elementor-element");e.each(function(){if(null==$(this).data("pafe-form-builder-stripe")&&null==$(this).data("pafe-form-builder-html")){var e=$(this).closest(".elementor-field-type-checkbox.elementor-field-required");0<e.length&&e.find("input[type=checkbox]:checked").length,$(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html("");var t,i,a=$(this).attr("type"),r=$(this).attr("name"),o=$(this).closest("[data-pafe-form-builder-repeater-form-id]"),n="",s="",l="",d=-1,e=0;if(0<o.length&&($repeaterParents=$(this).parents("[data-pafe-form-builder-repeater-form-id]"),s=o.data("pafe-form-builder-repeater-id"),$repeaterParents.each(function(){var e=$(this).data("pafe-form-builder-repeater-id"),t=$(document).find('[data-pafe-form-builder-repeater-form-id="'+m+'"][data-pafe-form-builder-repeater-id="'+e+'"]');repeaterParentIndex=$(this).index()-t.index(),n+=e+"|index"+repeaterParentIndex+"|"+r.replace("[]","").replace("form_fields[","").replace("]","")+","}),l=o.data("pafe-form-builder-repeater-label"),i=$(document).find('[data-pafe-form-builder-repeater-id="'+o.data("pafe-form-builder-repeater-id")+'"]'),e=o.siblings('[data-pafe-form-builder-repeater-id="'+o.data("pafe-form-builder-repeater-id")+'"]').length+1,d=o.index()-i.index()),-1!==r.indexOf("[]")){var c=[];"checkbox"==a?$(this).closest(".elementor-element").find('[name="'+r+'"]:checked').each(function(){c.push($(this).val())}):null==(c=$(this).val())&&(c=[]);for(var f,p,u=t="",h=0;h<c.length;h++)null!=$(this).data("pafe-form-builder-send-data-by-label")&&(f=c[h],"checkbox"==a?0<(p=$(this).closest(".elementor-element").find('[value="'+f+'"]')).length&&(u+=p.data("pafe-form-builder-send-data-by-label")+","):0<(p=$(this).find('[value="'+f+'"]')).length&&(u+=p.html()+",")),t+=c[h]+",";t=t.replace(/,(\s+)?$/,"")}else t="radio"==a||"checkbox"==a?(null!=$(this).data("pafe-form-builder-send-data-by-label")&&(u=$(this).closest(".elementor-element").find('[name="'+r+'"]:checked').data("pafe-form-builder-send-data-by-label")),$(this).closest(".elementor-element").find('[name="'+r+'"]:checked').val()):null!=$(this).data("pafe-form-builder-calculated-fields")?$(this).siblings(".pafe-calculated-fields-form").text():(null!=$(this).data("pafe-form-builder-send-data-by-label")&&(f=$(this).val().trim(),0<(p=$(this).find('[value="'+f+'"]')).length&&(u=p.html())),$(this).val().trim());null!=t&&((i={}).label=$(this).closest(".elementor-field-group").find(".elementor-field-label").html(),i.name=r.replace("[]","").replace("form_fields[","").replace("]",""),i.value=t,null!=c&&(i.value_multiple=c),i.type=$(this).attr("type"),void 0!==$(this).attr("data-pafe-form-builder-address-autocomplete")&&(i.lat=$(this).attr("data-pafe-form-builder-google-maps-lat"),i.lng=$(this).attr("data-pafe-form-builder-google-maps-lng"),i.zoom=$(this).attr("data-pafe-form-builder-google-maps-zoom")),""!=u&&(i.value_label=u),0<$(this).closest(".elementor-field-type-calculated_fields").length&&(i.calculation_results=$(this).val().trim()),0==$(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&(i.repeater_id=n,i.repeater_id_one=s,i.repeater_label=l,i.repeater_index=d,i.repeater_length=e,null!=$(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(i.repeater_remove_this_field="1"),g.push(i)))}}),t.append("action","pafe_ajax_form_builder_preview_submission"),t.append("fields",JSON.stringify(g)),null!=i.attr("data-pafe-form-builder-preview-submission-remove-empty-fields")&&t.append("remove_empty_fields",""),null!=i.attr("data-pafe-form-builder-preview-submission-custom-list-fields")&&t.append("custom_list_fields",i.attr("data-pafe-form-builder-preview-submission-custom-list-fields")),$.ajax({url:$("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:t,processData:!1,contentType:!1,success:function(e){i.html(e)}})})}function bookingLoad(e){var t,i=e.val(),a=e.attr("data-pafe-form-builder-form-id"),e=$(document).find('[data-pafe-form-booking-item][data-pafe-form-builder-form-id="'+a+'"]');0<e.length&&((t=(e=e.eq(0)).closest("[data-pafe-form-booking]")).addClass("pafe-form-booking--loading"),a=JSON.parse(e.attr("data-pafe-form-booking-item-options")),a={action:"pafe_form_booking",date:i,post_id:0<e.closest("[data-pafe-form-builder-step-item-id]").length?e.closest("[data-pafe-form-builder-step-item-id]").attr("data-pafe-form-builder-step-item-id"):0<e.closest("[data-elementor-id]").length?e.closest("[data-elementor-id]").attr("data-elementor-id"):a.pafe_form_booking_post_id,element_id:a.pafe_form_booking_element_id,form_booking:t.attr("data-pafe-form-booking")},$.post($("[data-pafe-ajax-url]").data("pafe-ajax-url"),a,function(e){t.html(e),pafeCalculatedFieldsForm(""),t.removeClass("pafe-form-booking--loading")}))}function bookingItemLoad(){$(document).find("[data-pafe-form-booking]").each(function(){var e,t=$(this).find("[data-pafe-form-booking-item]").eq(0),i=JSON.parse(t.attr("data-pafe-form-booking-item-options")),a=JSON.parse($(this).attr("data-pafe-form-booking")).pafe_form_booking_form_id,r=t.closest("[data-pafe-form-booking]");void 0!==i.pafe_form_booking_date_field?(e="#form-field-"+i.pafe_form_booking_date_field.replace('[field id="',"").replace('"]',""),(e=$(document).find(e+'[data-pafe-form-builder-form-id="'+a+'"]')).addClass("pafe-form-booking-date"),bookingLoad(e)):(e=i.pafe_form_booking_date,t.attr("data-pafe-form-builder-form-id"),i=i,i={action:"pafe_form_booking",date:e,post_id:0<t.closest("[data-pafe-form-builder-step-item-id]").length?t.closest("[data-pafe-form-builder-step-item-id]").attr("data-pafe-form-builder-step-item-id"):0<t.closest("[data-elementor-id]").length?t.closest("[data-elementor-id]").attr("data-elementor-id"):i.pafe_form_booking_post_id,element_id:i.pafe_form_booking_element_id,form_booking:r.attr("data-pafe-form-booking")},$.post($("[data-pafe-ajax-url]").data("pafe-ajax-url"),i,function(e){r.html(e),pafeCalculatedFieldsForm(""),r.removeClass("pafe-form-booking--loading")}))})}function paymentMethodsSelectField(){$("[data-pafe-form-builder-payment-methods-select-field]").each(function(){var e=$(this).attr("type"),t=$(this).attr("data-pafe-form-builder-form-id"),t=$(document).find('[data-pafe-form-builder-submit-form-id="'+t+'"]');(e="radio"==e||"checkbox"==e?$(this).closest(".elementor-element").find("input:checked").val():$(this).val().trim())!=$(this).attr("data-pafe-form-builder-payment-methods-select-field-value-for-stripe")?void 0!==t.attr("data-pafe-form-builder-stripe-currency")&&t.removeAttr("data-pafe-form-builder-stripe-submit"):void 0!==t.attr("data-pafe-form-builder-stripe-currency")&&t.attr("data-pafe-form-builder-stripe-submit",""),e!=$(this).attr("data-pafe-form-builder-payment-methods-select-field-value-for-paypal")?void 0!==t.attr("data-pafe-form-builder-paypal-submit-enable")&&(t.removeAttr("data-pafe-form-builder-paypal-submit"),t.closest(".elementor-element").find(".pafe-form-builder-paypal").hide()):void 0!==t.attr("data-pafe-form-builder-paypal-submit-enable")&&(t.attr("data-pafe-form-builder-paypal-submit",""),t.closest(".elementor-element").find(".pafe-form-builder-paypal").show())})}function pafeLivePreview(e){var t;0<$(document).find("[data-pafe-form-builder-live-preview]").length&&(t=$(e).val(),void 0!==(e=$(e).attr("id"))&&$(document).find('[data-pafe-form-builder-live-preview="'+e.replace("form-field-","")+'"]').each(function(){$(this).html(t)}))}0<$conditionals.length&&pafeConditionalLogicFormCheck($conditionals),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(200,function(){pafeConditionalLogicFormCheck($(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]"))})),pafeCalculatedFieldsForm(""),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(200,function(){pafeCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))})),$(document).on("keyup change","[data-pafe-form-builder-image-upload]",function(){var e,r=$(this).closest("label"),o=$(this).closest(".elementor-element"),n=1e3;void 0!==r.attr("data-pafe-form-builder-image-upload-max-files")&&(n=parseInt(r.attr("data-pafe-form-builder-image-upload-max-files")),e=o.find(".pafe-form-builder-image-upload-placeholder.pafe-form-builder-image-upload-uploaded:not(.pafe-form-builder-image-upload-delete)").length,n-=e),$.each($(this)[0].files,function(e,t){var a,i;0<n?(--n,"gif"!=(i=(i=t.name).substring(i.lastIndexOf(".")+1).toLowerCase())&&"png"!=i&&"jpg"!=i&&"jpeg"!=i||("undefined"!=typeof FileReader?("multiple"!=r.attr("multiple")&&r.hide(0),a=(new IDGenerator).generate(),(i=new FileReader).onload=function(e){image=new Image,image.src=e.target.result,r.before('<div class="pafe-form-builder-image-upload-placeholder pafe-form-builder-image-upload-uploading" style="background-image:url('+e.target.result+')" data-pafe-form-builder-image-upload-placeholder="'+a+'"><input type="text" style="display:none;" data-pafe-form-builder-image-upload-item><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--remove" data-pafe-form-builder-image-upload-button-remove><i class="fa fa-times" aria-hidden="true"></i></span><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--uploading" data-pafe-form-builder-image-upload-button-uploading><i class="fa fa-spinner fa-spin"></i></span></div>')},i.readAsDataURL(t),(i=new FormData).append("upload",t),$.ajax({url:$("[data-pafe-form-builder-tinymce-upload]").data("pafe-form-builder-tinymce-upload"),type:"POST",data:i,processData:!1,contentType:!1,success:function(e){var t,i=JSON.parse(e),e=$(document).find('[data-pafe-form-builder-image-upload-placeholder="'+a+'"]');1==e.length&&(e.removeClass("pafe-form-builder-image-upload-uploading").addClass("pafe-form-builder-image-upload-uploaded"),e.find("input").attr("value",i.location),t="",o.find("[data-pafe-form-builder-image-upload-placeholder]:not(.pafe-form-builder-image-upload-delete) [data-pafe-form-builder-image-upload-item]").each(function(){t+=$(this).val()+","}),t=t.replace(/.$/,""),o.find("[data-pafe-form-builder-form-id]").attr("value",t),o.find("[data-pafe-form-builder-form-id]").val(t),o.find("[data-pafe-form-builder-form-id]").change())}})):alert("Your browser does not support")),0==n&&r.hide(0)):r.hide(0)})}),$(document).on("click","[data-pafe-form-builder-image-upload-button-remove]",function(){var e=$(this).closest(".pafe-form-builder-image-upload-placeholder");e.css({display:"none"}),e.addClass("pafe-form-builder-image-upload-delete");var t=$(this).closest(".elementor-element"),i=t.find("[data-pafe-form-builder-image-upload-placeholder]:not(.pafe-form-builder-image-upload-delete) [data-pafe-form-builder-image-upload-item]"),a="",e=t.find("[data-pafe-form-builder-image-upload-label]");0==i.length&&e.show(0),"multiple"==e.attr("multiple")&&e.show(0),i.each(function(){a+=$(this).val()+","}),a=a.replace(/.$/,""),t.find("[data-pafe-form-builder-form-id]").attr("value",a)}),$('[data-pafe-form-builder-form-id][type="hidden"]').each(function(){$(this).closest(".elementor-widget-pafe-form-builder-field").addClass("elementor-widget-pafe-form-builder-field-hidden")}),$(document).on("click","[data-pafe-form-builder-repeater-form-id-trigger]",function(e){e.preventDefault();var formID=$(this).data("pafe-form-builder-repeater-form-id-trigger"),repeaterID=$(this).data("pafe-form-builder-repeater-id-trigger"),repeaterTriggerAction=$(this).data("pafe-form-builder-repeater-trigger-action"),$repeater=$(document).find('[data-pafe-form-builder-repeater-form-id="'+formID+'"][data-pafe-form-builder-repeater-id="'+repeaterID+'"]'),repeaterLimit,$repeaterNew,$radioField,$checkboxField,$conditionals,$imageUploadField,$imageSelect,$rangeSlider,$niceNumber,$repeaterSub,$fieldsInside,$selectAutocomplete,$dateField,addDatePicker,$timeField,addTimePicker,$repeaterParent,$conditionals;"add"==repeaterTriggerAction?($(document).find('[data-pafe-form-builder-repeater-id="'+repeaterID+'"] [data-pafe-form-builder-repeater-trigger-action="remove"]').show(),0<$repeater.length&&(0<$(this).closest("[data-pafe-form-builder-repeater-form-id]").length&&($repeater=$(this).closest("[data-pafe-form-builder-repeater-form-id]").find('[data-pafe-form-builder-repeater-form-id="'+formID+'"][data-pafe-form-builder-repeater-id="'+repeaterID+'"]')),repeaterLimit=$repeater.eq(0).attr("data-pafe-form-builder-repeater-limit"),(0==repeaterLimit||0<repeaterLimit&&$repeater.eq($repeater.length-1).siblings('[data-pafe-form-builder-repeater-id="'+repeaterID+'"]').length<repeaterLimit-1)&&($repeater.eq($repeater.length-1).siblings('[data-pafe-form-builder-repeater-id="'+repeaterID+'"]').length==repeaterLimit-2&&$(this).hide(),$repeater.eq($repeater.length-1).after($repeater.eq(0).prop("outerHTML")),$repeaterNew=$repeater.eq($repeater.length-1).next(),$repeaterNew.attr("data-pafe-form-builder-repeater-number",generateRandomString(8)),$radioField=$repeaterNew.find('input[type="radio"]'),$radioField.each(function(e,t){var i=$(this).attr("id");$(this).attr("id",i+$repeater.length+e),$(this).siblings("label").attr("for",i+$repeater.length+e)}),$checkboxField=$repeaterNew.find('input[type="checkbox"]'),$checkboxField.each(function(e,t){var i=$(this).attr("id");$(this).attr("id",i+$repeater.length+e),$(this).siblings("label").attr("for",i+$repeater.length+e)}),$conditionals=$repeaterNew.find("[data-pafe-form-builder-conditional-logic]"),0<$conditionals.length&&pafeConditionalLogicFormCheck($conditionals),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+formID+'"]').change(),$imageUploadField=$repeaterNew.find("[data-pafe-form-builder-image-upload]"),0<$imageUploadField.length&&$imageUploadField.each(function(){$imageUploadedFieldWidget=$(this).closest(".elementor-element"),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-placeholder]").remove(),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-label]").show(0),$imageUploadedFieldWidget.find("[data-pafe-form-builder-form-id]").val("")}),$repeaterNew.find("[data-mask]").each(function(){$(this).mask($(this).attr("data-mask"))}),$imageSelect=$repeaterNew.find("[data-pafe-form-builder-image-select]"),0<$imageSelect.length&&$imageSelect.each(function(){$(this).closest(".elementor-field").find(".image_picker_selector").remove();var a=$(this).data("pafe-form-builder-image-select"),r=$(this).find("option");$(this).closest(".elementor-field").addClass("pafe-image-select-field");var o=$(this);r.each(function(e,t){var i;""==r.eq(0).attr("value").trim()&&0!=e&&(i=a[e-1].url,$(this).html(),$(this).attr("data-img-src",i),o.imagepicker({show_label:!0})),""!=r.eq(0).attr("value").trim()&&(i=a[e].url,$(this).html(),$(this).attr("data-img-src",i),o.imagepicker({show_label:!0}))})}),$rangeSlider=$repeaterNew.find("[data-pafe-form-builder-range-slider]"),0<$rangeSlider.length&&$rangeSlider.each(function(){$(this).closest(".elementor-element").find(".irs").remove();for(var e={},t=$(this).data("pafe-form-builder-range-slider").split(","),i=0;i<t.length;i++){var a,r=t[i].trim().split(":");null!=r[0]&&null!=r[1]&&(a=r[1].trim().replace('"',"").replace('"',""),e[r[0]]="false"==a||"true"==a?"false"!=a:a)}e.onStart=function(e){},$(this).ionRangeSlider(e),$(this).addClass("irs-hidden-input")}),$niceNumber=$repeaterNew.find("[data-pafe-form-builder-spiner] .nice-number"),0<$niceNumber.length&&$niceNumber.each(function(){var e=$(this).closest("[data-pafe-form-builder-spiner]"),t=$(this).find(".elementor-field").prop("outerHTML");$(this).after(t),$(this).remove(),e.find(".elementor-field").niceNumber({autoSize:!1})}),$repeaterSub=$repeaterNew.find("[data-pafe-form-builder-repeater-id]"),0<$repeaterSub.length&&(pafeConditionalLogicFormCheck($repeaterSub),$repeaterSub.each(function(){var e=$(this).data("pafe-form-builder-repeater-id");$(this).siblings('[data-pafe-form-builder-repeater-id="'+e+'"]').remove()})),$fieldsInside=$repeaterNew.find("[data-pafe-form-builder-form-id]"),$fieldsInside.each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?(t&&(i=$(this).attr("data-value")),$(this).val(i).change()):0!=e.length?$(this).val(e.val()).change():t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")}),$selectAutocomplete=$repeaterNew.find("[data-pafe-form-builder-select-autocomplete]"),0<$selectAutocomplete.length&&$selectAutocomplete.each(function(){for(var e=JSON.parse($(this).attr("data-options")),t="",i=0;i<e.length;i++){var a=e[i];0<=a.indexOf("|")?t+='<option value="'+(a=a.split("|"))[1]+'">'+a[0]+"</option>":t+='<option value="'+a+'">'+a+"</option>"}$(this).html(t),$(this).closest(".elementor-field").find(".selectize-control").remove(),$(this).selectize({dropdownParent:"body"})}),$dateField=$repeaterNew.find(".elementor-date-field"),0<$dateField.length&&(addDatePicker=function addDatePicker($element){var minDate,maxDate,options,options;$element.hasClass("elementor-use-native")||$element.hasClass("flatpickr-custom-options")||(minDate=$($element).attr("min")?flatpickr.parseDate($($element).attr("min"),"Y-m-d"):null,maxDate=$($element).attr("max")?flatpickr.parseDate($($element).attr("max"),"Y-m-d"):null,options={minDate:minDate,maxDate:maxDate,dateFormat:$element.attr("data-date-format")||null,defaultDate:$element.attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1,onReady:function(e){e=parseInt(e[0]/864e5,10);$element.attr("data-pafe-form-builder-date-calculate",e)},onClose:function(e){e=parseInt(e[0]/864e5,10);$element.attr("data-pafe-form-builder-date-calculate",e)}},null!=$element.data("pafe-form-builder-date-range")&&(options={minDate:minDate,maxDate:maxDate,dateFormat:$element.attr("data-date-format")||null,defaultDate:$element.attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1,onClose:function(date){var startDay=flatpickr.formatDate(date[0],"m/d/Y"),endDay=flatpickr.formatDate(date[1],"m/d/Y"),newStartDate=new Date(startDay).getTime(),newEndDate=new Date(endDay).getTime(),newStartDate=eval(newStartDate/1e3+3600),newEndDate=eval(newEndDate/1e3+3600),countDays=eval(newEndDate-newStartDate),countDays=eval(countDays/86400+1);$element.attr("data-pafe-form-builder-date-range-days",countDays)},mode:"range"}),"english"!=$element.data("pafe-form-builder-date-language")&&(options.locale=$element.attr("data-pafe-form-builder-date-language")),$element.flatpickr(options))},$dateField.each(function(){addDatePicker($(this))})),$timeField=$repeaterNew.find(".elementor-time-field"),0<$timeField.length&&(addTimePicker=function(e){e.hasClass("elementor-use-native")||e.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:e.attr("data-pafe-form-builder-value")||null})},$timeField.each(function(){addTimePicker($(this))}))))):($(document).find('[data-pafe-form-builder-repeater-id-trigger="'+repeaterID+'"]').show(),2==$repeater.length&&$(document).find('[data-pafe-form-builder-repeater-id="'+repeaterID+'"] [data-pafe-form-builder-repeater-trigger-action="'+repeaterTriggerAction+'"]').hide(),1<$repeater.length&&($repeaterParent=$(this).closest('[data-pafe-form-builder-repeater-form-id="'+formID+'"]'),0<$repeaterParent.siblings('[data-pafe-form-builder-repeater-form-id="'+formID+'"]').length&&$(this).closest('[data-pafe-form-builder-repeater-form-id="'+formID+'"]').remove(),$conditionals=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]"),0<$conditionals.length&&pafeConditionalLogicFormCheck($conditionals),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+formID+'"]').change(),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-form-id="'+formID+'"]').change(),pafeCalculatedFieldsForm("")))}),$("[data-pafe-form-builder-repeater-id]").each(function(){var e=$(this).data("pafe-form-builder-repeater-form-id"),t="pafe-end-repeater"+$(this).data("pafe-form-builder-repeater-id");$(this).after('<div class="elementor-element elementor-element-7d558e4 elementor-widget elementor-widget-pafe-form-builder-field elementor-widget-pafe-form-builder-field-hidden" data-element_type="widget" data-widget_type="pafe-form-builder-field.default" style="opacity: 0.45;"><div class="elementor-widget-container"><div class="elementor-form-fields-wrapper elementor-labels-above"><div class="elementor-field-type-hidden elementor-field-group elementor-column elementor-field-group-'+t+' elementor-col-100"><div data-pafe-form-builder-required=""></div><input size="1" class="elementor-field elementor-size- " type="hidden" name="form_fields['+t+']" id="form-field-'+t+'" autocomplete="on" data-pafe-form-builder-default-value="" value="" data-pafe-form-builder-value="" data-pafe-form-builder-form-id="'+e+'"></div></div></div></div>')}),$("[data-pafe-form-builder-delete-post]").click(function(e){e.preventDefault();var e={action:"pafe_delete_post",id:$(this).data("pafe-form-builder-delete-post"),force_delete:$(this).data("pafe-form-builder-delete-post-force")},t=$(this).data("pafe-form-builder-delete-post-redirect");$.post($("[data-pafe-ajax-url]").data("pafe-ajax-url"),e,function(e){""!=e.trim()&&(window.location.href=t)})}),$(window).on("load",function(){$('[data-pafe-form-builder-repeater-form-id] [data-pafe-form-builder-repeater-trigger-action="remove"]').hide(),$("[data-pafe-form-builder-repeater-value]").each(function(){var e=JSON.parse($(this).html().trim()),t=$(this).data("pafe-form-builder-repeater-value-form-id"),i=$(this).data("pafe-form-builder-repeater-value-id"),a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]');if(0<a.length){0<$(this).closest("[data-pafe-form-builder-repeater-form-id]").length&&(a=$(this).closest("[data-pafe-form-builder-repeater-form-id]").find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]'));for(var r,o=0;o<e.length-1;o++)a.eq(0).after(a.eq(0).prop("outerHTML"));for(r in(a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]')).each(function(e,t){0!=e&&reInitFieldRepeater($(this))}),a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]'),e){var n,s=e[r];for(n in 2<=e.length&&$('[data-pafe-form-builder-repeater-form-id] [data-pafe-form-builder-repeater-trigger-action="remove"]').show(),s)if("object"!=typeof s[n])setFieldValue(a.eq(r).find('[name^="form_fields['+n+']"]'),s[n]);else{for(var l=a.eq(r).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+n+'"]'),o=0;o<s[n].length-1;o++)l.eq(0).after(l.eq(0).prop("outerHTML"));(l=a.eq(r).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+n+'"]')).each(function(e,t){0!=e&&reInitFieldRepeater($(this))});var d,c=s[n];for(d in c)for(var f in c[d])"object"!=typeof c[d][f]&&setFieldValue(l.eq(d).find('[name^="form_fields['+f+']"]'),c[d][f])}}i=a.find("[data-pafe-form-builder-conditional-logic]");0<i.length&&pafeConditionalLogicFormCheck(i),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+t+'"]').change()}})}),setTimeout(pafePreviewSubmission(),1e3),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(250,function(){pafePreviewSubmission()})),bookingItemLoad(),$(document).on("elementor/popup/show",function(e,t,i){bookingItemLoad()}),$(document).on("change",".pafe-form-booking-date",function(){bookingLoad($(this))}),$(document).on("change","[data-pafe-form-booking-item]",function(){var e,t;$(this).is(":checked")?($(this).closest(".pafe-form-booking__item").addClass("active"),null!=$(this).attr("data-pafe-form-booking-item-radio")&&((e=$(this).closest(".pafe-form-booking__item").siblings()).find("input").prop("checked",!1),e.removeClass("active"),void 0!==(t=JSON.parse($(this).attr("data-pafe-form-booking-item-options"))).pafe_form_booking_slot_quantity_field&&(e="#form-field-"+t.pafe_form_booking_slot_quantity_field.replace('[field id="',"").replace('"]',""),t=$(this).attr("data-pafe-form-builder-form-booking-availble"),$(e).attr("max",t)))):$(this).closest(".pafe-form-booking__item").removeClass("active")}),$(document).on("click","[data-pafe-form-builder-trigger-success],[data-pafe-form-builder-trigger-failed]",function(){bookingItemLoad()}),$(document).on("change keyup paste",'[type="number"][data-pafe-form-builder-form-id]',function(e){var t=$(this).val(),i=$(this).attr("min"),a=$(this).attr("max");parseInt(i)>parseInt(t)?$(this).val(i):parseInt(t)>parseInt(a)&&$(this).val(a)}),$('[type="number"][data-pafe-form-builder-form-id]').bind("paste",function(e){var i=this,a=$(this).attr("min"),r=$(this).attr("max");setTimeout(function(e){var t=$(i).val();parseInt(a)>parseInt(t)?$(i).val(a):parseInt(t)>parseInt(r)&&$(i).val(r)},0)}),$(document).on("click","[data-pafe-form-builder-trigger-success]",function(){var e;0==$(this).closest(".elementor-element").find("[data-pafe-form-builder-submit-update-user-profile]").length&&(e=$(this).attr("data-pafe-form-builder-trigger-success"),$(document).find('[data-pafe-form-builder-form-id="'+e+'"]').each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?t?($(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),i==$(this).val()&&$(this).prop("checked",!0)):$(this).val(i):0!=e.length?$(this).val(e.val()):t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")}),0<(e=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]")).length&&pafeConditionalLogicFormCheck(e))}),$(document).on("elementor/popup/show",function(e,t,i){$(document).find(".dialog-widget [data-mask]").each(function(){$(this).mask($(this).attr("data-mask"))})}),paymentMethodsSelectField(),$(document).on("change","[data-pafe-form-builder-payment-methods-select-field]",function(){paymentMethodsSelectField()}),$("[data-pafe-form-builder-submit-update-user-profile]").each(function(){for(var e=$(this).attr("data-pafe-form-builder-submit-form-id"),t=JSON.parse($(this).attr("data-pafe-form-builder-submit-update-user-profile")),i=0;i<t.length;i++)setFieldValue($(document).find('[data-pafe-form-builder-form-id="'+e+'"][name^="form_fields['+t[i].field_id+']"]'),t[i].user_meta_value)}),setTimeout(pafeLivePreview(),1e3),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(250,function(){pafeLivePreview($(this))})),$(document).on("click",'[data-pafe-show_password-icon="true"]',function(){var e=$(this).attr("data-pafe-password-name"),t=$(this).closest(".pafe-field-container").find('[name="form_fields['+e+']"]').attr("type"),i=$(this).closest(".pafe-field-container").find("#eyeIcon-"+e);"password"===t?($(this).closest(".pafe-field-container").find('[name="form_fields['+e+']"]').attr("type","text"),i.addClass("fa-eye-slash")):($(this).closest(".pafe-field-container").find('[name="form_fields['+e+']"]').attr("type","password"),i.removeClass("fa-eye-slash"))})}),jQuery(document).ready(function(s){function l(e){e=e.find("[data-pafe-signature] canvas.not-resize");0<e.length&&e.each(function(){var e=parseInt(s(this).css("max-width").replace("px","")),t=(parseInt(s(this).css("height").replace("px","")),parseInt(s(this).closest(".elementor-form-fields-wrapper").width()));0<t&&(t<e?s(this).attr("width",t):s(this).attr("width",e),s(this).removeClass("not-resize"))})}function e(e){var t=e.closest(".pafe-multi-step-form__content-item");t.find("[data-pafe-form-builder-form-id]").data("pafe-form-builder-form-id");t.removeClass("active"),t.next().addClass("active");var i=t.next().index();e.closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(i).addClass("active");var a,r=e.closest("[data-pafe-multi-step-form-scroll-to-top]");0<r.length&&(a=s("[data-pafe-break-point-md]").data("pafe-break-point-md"),(i=s("[data-pafe-break-point-lg]").data("pafe-break-point-lg"))<=(e=window.innerWidth)&&s("html, body").animate({scrollTop:r.offset().top-r.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),a<=e&&e<i&&s("html, body").animate({scrollTop:r.offset().top-r.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),e<a&&s("html, body").animate({scrollTop:r.offset().top-r.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300)),l(t.next())}s(document).on("click",'[data-pafe-form-builder-nav="next"]',function(){var e,t,i=s(this).data("pafe-form-builder-nav-form-id"),a=s(this).closest(".pafe-multi-step-form__content-item"),r=a.find("[data-pafe-form-builder-form-id="+i+"]"),o=s(this).data("pafe-form-builder-required-text"),n=0;r.each(function(){var e,t,i,a;null==s(this).data("pafe-form-builder-stripe")&&null==s(this).data("pafe-form-builder-html")&&((t=0)<(e=s(this).closest(".elementor-field-type-checkbox.elementor-field-required")).length&&(t=e.find("input[type=checkbox]:checked").length),null!=s(this).attr("oninvalid")&&(o=s(this).attr("oninvalid").replace("this.setCustomValidity('","").replace("')","")),i=s(this)[0].checkValidity(),a=s(s(this)[0]).next()[0],s(a).hasClass("flatpickr-mobile")&&(i=a.checkValidity()),(!i||0==t&&0<e.length)&&0==s(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"none"!=s(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")&&null==s(this).data("pafe-form-builder-honeypot")&&0==s(this).closest("[data-pafe-signature]").length||0==t&&0<e.length&&"none"!=s(this).closest(".elementor-element").css("display")?("none"==s(this).css("display")||"none"==s(this).closest("div").css("display")||null!=s(this).data("pafe-form-builder-image-select")||0<e.length?s(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(o):null==s(this).data("pafe-form-builder-image-select")&&s(this)[0].reportValidity(),n++):""==s(this).val()&&"true"==s(this).attr("aria-required")&&void 0!==s(this).attr("data-pafe-form-builder-select-autocomplete")?(s(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(o),n++):(null!=s(this).data("pafe-form-builder-image-select")&&(s(this).closest(".pafe-image-select-field").find(".image_picker_selector").find(".selected").length<s(this).data("pafe-form-builder-image-select-min-select")?(s(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").html("Please select a minimum <b>"+s(this).data("pafe-form-builder-image-select-min-select")+"</b> image(s)"),n++):s(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").remove()),s(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),0<s(this).closest("[data-pafe-signature]").length&&(s(this).closest("[data-pafe-signature]").find("[data-pafe-signature-export]").trigger("click"),""==s(this).val()&&0==s(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=s(this).attr("required")&&(s(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(o),n++))))}),0==n&&(a.removeClass("active"),a.next().addClass("active"),t=a.next().index(),s(this).closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(t).addClass("active"),0<(e=s(this).closest("[data-pafe-multi-step-form-scroll-to-top]")).length&&(i=s("[data-pafe-break-point-md]").data("pafe-break-point-md"),(r=s("[data-pafe-break-point-lg]").data("pafe-break-point-lg"))<=(t=window.innerWidth)&&s("html, body").animate({scrollTop:e.offset().top-e.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),i<=t&&t<r&&s("html, body").animate({scrollTop:e.offset().top-e.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),t<i&&s("html, body").animate({scrollTop:e.offset().top-e.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300)),l(a.next()))}),s(document).on("change","[data-pafe-form-builder-multi-step-form-autonext]",function(){e(s(this))}),s(document).on("click",".image_picker_selector>li>div",function(){0<s(this).closest(".elementor-field").find("[data-pafe-form-builder-multi-step-form-autonext]").length&&e(s(this))}),s(document).on("click",'[data-pafe-form-builder-nav="prev"]',function(){s(this).data("pafe-form-builder-nav-form-id");var e=s(this).closest(".pafe-multi-step-form__content-item");e.removeClass("active"),e.prev().addClass("active");var t=e.index();s(this).closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(t).removeClass("active");var i,a=s(this).closest("[data-pafe-multi-step-form-scroll-to-top]");0<a.length&&(i=s("[data-pafe-break-point-md]").data("pafe-break-point-md"),(e=s("[data-pafe-break-point-lg]").data("pafe-break-point-lg"))<=(t=window.innerWidth)&&s("html, body").animate({scrollTop:a.offset().top-a.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),i<=t&&t<e&&s("html, body").animate({scrollTop:a.offset().top-a.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),t<i&&s("html, body").animate({scrollTop:a.offset().top-a.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300))})}),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){function e(e,t){this.items=e,this.settings=t||{diacritics:!0}}e.prototype.tokenize=function(e){if(!(e=s(String(e||"").toLowerCase()))||!e.length)return[];for(var t,i,a=[],r=e.split(/ +/),o=0,n=r.length;o<n;o++){if(t=l(r[o]),this.settings.diacritics)for(i in d)d.hasOwnProperty(i)&&(t=t.replace(new RegExp(i,"g"),d[i]));a.push({string:r[o],regex:new RegExp(t,"i")})}return a},e.prototype.iterator=function(e,t){(n(e)?Array.prototype.forEach||function(e){for(var t=0,i=this.length;t<i;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var r,o,n,s;e=this.prepareSearch(e,t),o=e.tokens,r=e.options.fields,n=o.length,s=e.options.nesting;function l(e,t){var i;return e?-1===(i=(e=String(e||"")).search(t.regex))?0:(e=t.string.length/e.length,0===i&&(e+=.5),e):0}var d,c=(d=r.length)?1===d?function(e,t){return l(h(t,r[0],s),e)}:function(e,t){for(var i=0,a=0;i<d;i++)a+=l(h(t,r[i],s),e);return a/d}:function(){return 0};return n?1===n?function(e){return c(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,i=0,a=0;i<n;i++){if((t=c(o[i],e))<=0)return 0;a+=t}return a/n}:function(e){for(var t=0,i=0;t<n;t++)i+=c(o[t],e);return i/n}:function(){return 0}},e.prototype.getSortFunction=function(e,i){var t,a,r,o,n,s,l,d=this,c=!(e=d.prepareSearch(e,i)).query&&i.sort_empty||i.sort,f=function(e,t){return"$score"===e?t.score:h(d.items[t.id],e,i.nesting)},p=[];if(c)for(t=0,a=c.length;t<a;t++)!e.query&&"$score"===c[t].field||p.push(c[t]);if(e.query){for(l=!0,t=0,a=p.length;t<a;t++)if("$score"===p[t].field){l=!1;break}l&&p.unshift({field:"$score",direction:"desc"})}else for(t=0,a=p.length;t<a;t++)if("$score"===p[t].field){p.splice(t,1);break}for(s=[],t=0,a=p.length;t<a;t++)s.push("desc"===p[t].direction?-1:1);return(o=p.length)?1===o?(r=p[0].field,n=s[0],function(e,t){return n*u(f(r,e),f(r,t))}):function(e,t){for(var i,a=0;a<o;a++)if(i=p[a].field,i=s[a]*u(f(i,e),f(i,t)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var i=(t=o({},t)).fields,a=t.sort,r=t.sort_empty;return i&&!n(i)&&(t.fields=[i]),a&&!n(a)&&(t.sort=[a]),r&&!n(r)&&(t.sort_empty=[r]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,i){var a,r,t=this,o=this.prepareSearch(e,i);return i=o.options,e=o.query,r=i.score||t.getScoreFunction(o),e.length?t.iterator(t.items,function(e,t){a=r(e),(!1===i.filter||0<a)&&o.items.push({score:a,id:t})}):t.iterator(t.items,function(e,t){o.items.push({score:1,id:t})}),(t=t.getSortFunction(o,i))&&o.items.sort(t),o.total=o.items.length,"number"==typeof i.limit&&(o.items=o.items.slice(0,i.limit)),o};var u=function(e,t){return"number"==typeof e&&"number"==typeof t||(e=i(String(e||"")),t=i(String(t||""))),t<e?1:e<t?-1:0},o=function(e,t){for(var i,a,r=1,o=arguments.length;r<o;r++)if(a=arguments[r])for(i in a)a.hasOwnProperty(i)&&(e[i]=a[i]);return e},h=function(e,t,i){if(e&&t){if(!i)return e[t];for(var a=t.split(".");a.length&&(e=e[a.shift()]););return e}},s=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},l=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},n=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},d={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},i=function(){var e,t,i,a,r="",o={};for(i in d)if(d.hasOwnProperty(i))for(a=d[i].substring(2,d[i].length-1),r+=a,e=0,t=a.length;e<t;e++)o[a.charAt(e)]=i;var n=new RegExp("["+r+"]","g");return function(e){return e.replace(n,function(e){return o[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={mixin:function(a){a.plugins={},a.prototype.initializePlugins=function(e){var t,i,a,r=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},o.isArray(e))for(t=0,i=e.length;t<i;t++)"string"==typeof e[t]?r.push(e[t]):(this.plugins.settings[e[t].name]=e[t].options,r.push(e[t].name));else if(e)for(a in e)e.hasOwnProperty(a)&&(this.plugins.settings[a]=e[a],r.push(a));for(;r.length;)this.require(r.shift())},a.prototype.loadPlugin=function(e){var t=this.plugins,i=a.plugins[e];if(!a.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');t.requested[e]=!0,t.loaded[e]=i.fn.apply(this,[this.plugins.settings[e]||{}]),t.names.push(e)},a.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},a.define=function(e,t){a.plugins[e]={name:e,fn:t}}}},o={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(w,c,e){"use strict";w.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};function a(){}a.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},a.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=a.prototype[t[i]]};function l(e){return void 0!==e}function k(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""}function s(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function i(t,i,e){var a,r=t.trigger,o={};for(a in t.trigger=function(){var e=arguments[0];if(-1===i.indexOf(e))return r.apply(t,arguments);o[e]=arguments},e.apply(t,[]),t.trigger=r,o)o.hasOwnProperty(a)&&r.apply(t,o[a])}function d(e){var t,i,a={};return"selectionStart"in e?(a.start=e.selectionStart,a.length=e.selectionEnd-a.start):document.selection&&(e.focus(),t=document.selection.createRange(),i=document.selection.createRange().text.length,t.moveStart("character",-e.value.length),a.start=t.text.length-i,a.length=i),a}function f(e,t){return e?($.$testInput||($.$testInput=w("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),$.$testInput.text(e),function(e,t,i){var a,r,o={};if(i)for(a=0,r=i.length;a<r;a++)o[i[a]]=e.css(i[a]);else o=e.css();t.css(o)}(t,$.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),$.$testInput.width()):0}function g(n){function e(e,t){var i,a,r,o;t=t||{},(e=e||window.event||{}).metaKey||e.altKey||!t.force&&!1===n.data("grow")||(a=n.val(),e.type&&"keydown"===e.type.toLowerCase()&&(r=48<=(i=e.keyCode)&&i<=57||65<=i&&i<=90||96<=i&&i<=111||186<=i&&i<=222||32===i,46===i||8===i?(t=d(n[0])).length?a=a.substring(0,t.start)+a.substring(t.start+t.length):8===i&&t.start?a=a.substring(0,t.start-1)+a.substring(t.start+1):46===i&&void 0!==t.start&&(a=a.substring(0,t.start)+a.substring(t.start+1)):r&&(r=e.shiftKey,o=String.fromCharCode(e.keyCode),a+=o=r?o.toUpperCase():o.toLowerCase())),o=n.attr("placeholder"),!a&&o&&(a=o),(a=f(a,n)+4)!==s&&(s=a,n.width(a),n.triggerHandler("resize")))}var s=null;n.on("keydown keyup update blur",e),e()}var v=/Mac/.test(navigator.userAgent),b=v?91:17,_=v?18:17,y=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,t={before:function(e,t,i){var a=e[t];e[t]=function(){return i.apply(e,arguments),a.apply(e,arguments)}},after:function(t,e,i){var a=t[e];t[e]=function(){var e=a.apply(t,arguments);return i.apply(t,arguments),e}}},$=function(e,t){var i,a,r=this,o=e[0];o.selectize=r;var n,s,l,d=window.getComputedStyle&&window.getComputedStyle(o,null);if(d=(d=d?d.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||e.parents("[dir]:first").attr("dir")||"",w.extend(r,{order:0,settings:t,$input:e,tabIndex:e.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(d),eventNS:".selectize"+ ++$.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===t.loadThrottle?r.onSearchChange:(n=r.onSearchChange,s=t.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(l),l=window.setTimeout(function(){n.apply(e,t)},s)})}),r.sifter=new c(this.options,{diacritics:t.diacritics}),r.settings.options){for(i=0,a=r.settings.options.length;i<a;i++)r.registerOption(r.settings.options[i]);delete r.settings.options}if(r.settings.optgroups){for(i=0,a=r.settings.optgroups.length;i<a;i++)r.registerOptionGroup(r.settings.optgroups[i]);delete r.settings.optgroups}r.settings.mode=r.settings.mode||(1===r.settings.maxItems?"single":"multi"),"boolean"!=typeof r.settings.hideSelected&&(r.settings.hideSelected="multi"===r.settings.mode),r.initializePlugins(r.settings.plugins),r.setupCallbacks(),r.setupTemplates(),r.setup()};return a.mixin($),void 0!==e?e.mixin($):(e=(e={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||{},console.error("Selectize: Dependency MicroPlugin is missing"),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())),w.extend($.prototype,{setup:function(){var e,i,a,t=this,r=t.settings,o=t.eventNS,n=w(window),s=w(document),l=t.$input,d=t.settings.mode,c=l.attr("class")||"",f=w("<div>").addClass(r.wrapperClass).addClass(c).addClass(d),p=w("<div>").addClass(r.inputClass).addClass("items").appendTo(f),u=w('<input type="text" autocomplete="off" />').appendTo(p).attr("tabindex",l.is(":disabled")?"-1":t.tabIndex),h=w(r.dropdownParent||f),m=w("<div>").addClass(r.dropdownClass).addClass(d).hide().appendTo(h),d=w("<div>").addClass(r.dropdownContentClass).appendTo(m);(h=l.attr("id"))&&(u.attr("id",h+"-selectized"),w("label[for='"+h+"']").attr("for",h+"-selectized")),t.settings.copyClassesToDropdown&&m.addClass(c),f.css({width:l[0].style.width}),t.plugins.names.length&&(e="plugin-"+t.plugins.names.join(" plugin-"),f.addClass(e),m.addClass(e)),(null===r.maxItems||1<r.maxItems)&&1===t.tagType&&l.attr("multiple","multiple"),t.settings.placeholder&&u.attr("placeholder",r.placeholder),!t.settings.splitOn&&t.settings.delimiter&&(e=t.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),t.settings.splitOn=new RegExp("\\s*"+e+"+\\s*")),l.attr("autocorrect")&&u.attr("autocorrect",l.attr("autocorrect")),l.attr("autocapitalize")&&u.attr("autocapitalize",l.attr("autocapitalize")),u[0].type=l[0].type,t.$wrapper=f,t.$control=p,t.$control_input=u,t.$dropdown=m,t.$dropdown_content=d,m.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(e){e.stopImmediatePropagation()}),m.on("mouseenter","[data-selectable]",function(){return t.onOptionHover.apply(t,arguments)}),m.on("mousedown click","[data-selectable]",function(){return t.onOptionSelect.apply(t,arguments)}),d="mousedown",m="*:not(input)",a=function(){return t.onItemSelect.apply(t,arguments)},(i=p).on(d,m,function(e){for(var t=e.target;t&&t.parentNode!==i[0];)t=t.parentNode;return e.currentTarget=t,a.apply(this,[e])}),g(u),p.on({mousedown:function(){return t.onMouseDown.apply(t,arguments)},click:function(){return t.onClick.apply(t,arguments)}}),u.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return t.onKeyDown.apply(t,arguments)},keyup:function(){return t.onKeyUp.apply(t,arguments)},keypress:function(){return t.onKeyPress.apply(t,arguments)},resize:function(){t.positionDropdown.apply(t,[])},blur:function(){return t.onBlur.apply(t,arguments)},focus:function(){return t.ignoreBlur=!1,t.onFocus.apply(t,arguments)},paste:function(){return t.onPaste.apply(t,arguments)}}),s.on("keydown"+o,function(e){t.isCmdDown=e[v?"metaKey":"ctrlKey"],t.isCtrlDown=e[v?"altKey":"ctrlKey"],t.isShiftDown=e.shiftKey}),s.on("keyup"+o,function(e){e.keyCode===_&&(t.isCtrlDown=!1),16===e.keyCode&&(t.isShiftDown=!1),e.keyCode===b&&(t.isCmdDown=!1)}),s.on("mousedown"+o,function(e){if(t.isFocused){if(e.target===t.$dropdown[0]||e.target.parentNode===t.$dropdown[0])return!1;t.$control.has(e.target).length||e.target===t.$control[0]||t.blur(e.target)}}),n.on(["scroll"+o,"resize"+o].join(" "),function(){t.isOpen&&t.positionDropdown.apply(t,arguments)}),n.on("mousemove"+o,function(){t.ignoreHover=!1}),this.revertSettings={$children:l.children().detach(),tabindex:l.attr("tabindex")},l.attr("tabindex",-1).hide().after(t.$wrapper),w.isArray(r.items)&&(t.setValue(r.items),delete r.items),y&&l.on("invalid"+o,function(e){e.preventDefault(),t.isInvalid=!0,t.refreshState()}),t.updateOriginalInput(),t.refreshItems(),t.refreshState(),t.updatePlaceholder(),t.isSetup=!0,l.is(":disabled")&&t.disable(),t.on("change",this.onChange),l.data("selectize",t),l.addClass("selectized"),t.trigger("initialize"),!0===r.preload&&t.onSearchChange("")},setupTemplates:function(){var i=this.settings.labelField,a=this.settings.optgroupLabelField,e={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[a])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[i])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[i])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=w.extend({},e,this.settings.render)},setupCallbacks:function(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)i.hasOwnProperty(e)&&(t=this.settings[i[e]])&&this.on(e,t)},onClick:function(e){this.isFocused&&this.isOpen||(this.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,i=e.isDefaultPrevented();if(w(e.target),t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():i||t.setActiveItem(null),!1}else i||window.setTimeout(function(){t.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var r=this;r.isFull()||r.isInputHidden||r.isLocked?e.preventDefault():r.settings.splitOn&&setTimeout(function(){var e=r.$control_input.val();if(e.match(r.settings.splitOn))for(var t=w.trim(e).split(r.settings.splitOn),i=0,a=t.length;i<a;i++)r.createItem(t[i])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t,i=(e.target,this.$control_input[0],this);if(!i.isLocked){switch(e.keyCode){case 65:if(i.isCmdDown)return void i.selectAll();break;case 27:return void(i.isOpen&&(e.preventDefault(),e.stopPropagation(),i.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:return!i.isOpen&&i.hasOptions?i.open():i.$activeOption&&(i.ignoreHover=!0,(t=i.getAdjacentOption(i.$activeOption,1)).length&&i.setActiveOption(t,!0,!0)),void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:return i.$activeOption&&(i.ignoreHover=!0,(t=i.getAdjacentOption(i.$activeOption,-1)).length&&i.setActiveOption(t,!0,!0)),void e.preventDefault();case 13:return void(i.isOpen&&i.$activeOption&&(i.onOptionSelect({currentTarget:i.$activeOption}),e.preventDefault()));case 37:return void i.advanceSelection(-1,e);case 39:return void i.advanceSelection(1,e);case 9:return i.settings.selectOnTab&&i.isOpen&&i.$activeOption&&(i.onOptionSelect({currentTarget:i.$activeOption}),i.isFull()||e.preventDefault()),void(i.settings.create&&i.createItem()&&e.preventDefault());case 8:case 46:return void i.deleteSelection(e)}return!i.isFull()&&!i.isInputHidden||(v?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()}9!==e.keyCode&&e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();e=t.$control_input.val()||"";t.lastValue!==e&&(t.lastValue=e,t.onSearchChange(e),t.refreshOptions(),t.trigger("type",e))},onSearchChange:function(t){var i=this,a=i.settings.load;a&&(i.loadedSearches.hasOwnProperty(t)||(i.loadedSearches[t]=!0,i.load(function(e){a.apply(i,[t,e])})))},onFocus:function(e){var t=this,i=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),i||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(e);e=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),t&&t.focus&&t.focus(),i.isBlurring=!1,i.ignoreFocus=!1,i.trigger("blur")};i.isBlurring=!0,i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,e):e()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,i=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(t=w(e.currentTarget)).hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):void 0!==(t=t.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(t),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(t)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){i(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(e,t){var i,a,r,o,n,s,l=this;if("single"!==l.settings.mode){if(!(e=w(e)).length)return w(l.$activeItems).removeClass("active"),l.$activeItems=[],void(l.isFocused&&l.showInput());if("mousedown"===(a=t&&t.type.toLowerCase())&&l.isShiftDown&&l.$activeItems.length){for(s=l.$control.children(".active:last"),r=Array.prototype.indexOf.apply(l.$control[0].childNodes,[s[0]]),(o=Array.prototype.indexOf.apply(l.$control[0].childNodes,[e[0]]))<r&&(s=r,r=o,o=s),i=r;i<=o;i++)n=l.$control[0].childNodes[i],-1===l.$activeItems.indexOf(n)&&(w(n).addClass("active"),l.$activeItems.push(n));t.preventDefault()}else"mousedown"===a&&l.isCtrlDown||"keydown"===a&&this.isShiftDown?e.hasClass("active")?(a=l.$activeItems.indexOf(e[0]),l.$activeItems.splice(a,1),e.removeClass("active")):l.$activeItems.push(e.addClass("active")[0]):(w(l.$activeItems).removeClass("active"),l.$activeItems=[e.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}},setActiveOption:function(e,t,i){var a,r,o,n,s=this;s.$activeOption&&s.$activeOption.removeClass("active"),s.$activeOption=null,(e=w(e)).length&&(s.$activeOption=e.addClass("active"),!t&&l(t)||(a=s.$dropdown_content.height(),r=s.$activeOption.outerHeight(!0),t=s.$dropdown_content.scrollTop()||0,e=(n=o=s.$activeOption.offset().top-s.$dropdown_content.offset().top+t)-a+r,a+t<o+r?s.$dropdown_content.stop().animate({scrollTop:e},i?s.settings.scrollDuration:0):o<t&&s.$dropdown_content.stop().animate({scrollTop:n},i?s.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}},search:function(e){var t,i,a,r=this,o=r.settings,n=this.getSearchOptions();if(o.score&&"function"!=typeof(a=r.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,i=r.sifter.search(e,w.extend(n,{score:a})),r.currentResults=i):i=w.extend(!0,{},r.currentResults),o.hideSelected)for(t=i.items.length-1;0<=t;t--)-1!==r.items.indexOf(k(i.items[t].id))&&i.items.splice(t,1);return i},refreshOptions:function(e){var t,i,a,r,o,n,s,l,d,c,f,p,u,h;void 0===e&&(e=!0);var m,g,v=this,b=w.trim(v.$control_input.val()),_=v.search(b),y=v.$dropdown_content,$=v.$activeOption&&k(v.$activeOption.attr("data-value")),x=_.items.length;for("number"==typeof v.settings.maxOptions&&(x=Math.min(x,v.settings.maxOptions)),r={},o=[],t=0;t<x;t++)for(n=v.options[_.items[t].id],s=v.render("option",n),l=n[v.settings.optgroupField]||"",i=0,a=(d=w.isArray(l)?l:[l])&&d.length;i<a;i++)l=d[i],v.optgroups.hasOwnProperty(l)||(l=""),r.hasOwnProperty(l)||(r[l]=document.createDocumentFragment(),o.push(l)),r[l].appendChild(s);for(this.settings.lockOptgroupOrder&&o.sort(function(e,t){return(v.optgroups[e].$order||0)-(v.optgroups[t].$order||0)}),c=document.createDocumentFragment(),t=0,x=o.length;t<x;t++)l=o[t],v.optgroups.hasOwnProperty(l)&&r[l].childNodes.length?((f=document.createDocumentFragment()).appendChild(v.render("optgroup_header",v.optgroups[l])),f.appendChild(r[l]),c.appendChild(v.render("optgroup",w.extend({},v.optgroups[l],{html:(m=f,g=void 0,(g=document.createElement("div")).appendChild(m.cloneNode(!0)),g.innerHTML),dom:f})))):c.appendChild(r[l]);if(y.html(c),v.settings.highlight&&(y.removeHighlight(),_.query.length&&_.tokens.length))for(t=0,x=_.tokens.length;t<x;t++)!function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,s=function(e){var t=0;if(3===e.nodeType){var i,a,r=e.data.search(n);0<=r&&0<e.data.length&&(a=e.data.match(n),(i=document.createElement("span")).className="highlight",(r=e.splitText(r)).splitText(a[0].length),a=r.cloneNode(!0),i.appendChild(a),r.parentNode.replaceChild(i,r),t=1)}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var o=0;o<e.childNodes.length;++o)o+=s(e.childNodes[o]);return t};e.each(function(){s(this)})}}(y,_.tokens[t].regex);if(!v.settings.hideSelected)for(t=0,x=v.items.length;t<x;t++)v.getOption(v.items[t]).addClass("selected");(p=v.canCreate(b))&&(y.prepend(v.render("option_create",{input:b})),h=w(y[0].childNodes[0])),v.hasOptions=0<_.items.length||p,v.hasOptions?(0<_.items.length?(($=$&&v.getOption($))&&$.length?u=$:"single"===v.settings.mode&&v.items.length&&(u=v.getOption(v.items[0])),u&&u.length||(u=h&&!v.settings.addPrecedence?v.getAdjacentOption(h,1):y.find("[data-selectable]:first"))):u=h,v.setActiveOption(u),e&&!v.isOpen&&v.open()):(v.setActiveOption(null),e&&v.isOpen&&v.close())},addOption:function(e){var t,i,a,r=this;if(w.isArray(e))for(t=0,i=e.length;t<i;t++)r.addOption(e[t]);else(a=r.registerOption(e))&&(r.userOptions[a]=!0,r.lastQuery=null,r.trigger("option_add",a,e))},registerOption:function(e){var t=k(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=k(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var i,a,r,o=this;if(e=k(e),i=k(t[o.settings.valueField]),null!==e&&o.options.hasOwnProperty(e)){if("string"!=typeof i)throw new Error("Value must be set in option data");r=o.options[e].$order,i!==e&&(delete o.options[e],-1!==(a=o.items.indexOf(e))&&o.items.splice(a,1,i)),t.$order=t.$order||r,o.options[i]=t,a=o.renderCache.item,r=o.renderCache.option,a&&(delete a[e],delete a[i]),r&&(delete r[e],delete r[i]),-1!==o.items.indexOf(i)&&(e=o.getItem(e),t=w(o.render("item",t)),e.hasClass("active")&&t.addClass("active"),e.replaceWith(t)),o.lastQuery=null,o.isOpen&&o.refreshOptions(!1)}},removeOption:function(e,t){var i=this;e=k(e);var a=i.renderCache.item,r=i.renderCache.option;a&&delete a[e],r&&delete r[e],delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)},clearOptions:function(){var i=this;i.loadedSearches={},i.userOptions={},i.renderCache={};var a=i.options;w.each(i.options,function(e,t){-1==i.items.indexOf(e)&&delete a[e]}),i.options=i.sifter.items=a,i.lastQuery=null,i.trigger("option_clear")},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,t){var i=this.$dropdown.find("[data-selectable]"),t=i.index(e)+t;return 0<=t&&t<i.length?i.eq(t):w()},getElementWithValue:function(e,t){if(void 0!==(e=k(e))&&null!==e)for(var i=0,a=t.length;i<a;i++)if(t[i].getAttribute("data-value")===e)return w(t[i]);return w()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(e,t){this.buffer=document.createDocumentFragment();for(var i=this.$control[0].childNodes,a=0;a<i.length;a++)this.buffer.appendChild(i[a]);for(var r=w.isArray(e)?e:[e],a=0,o=r.length;a<o;a++)this.isPending=a<o-1,this.addItem(r[a],t);e=this.$control[0];e.insertBefore(this.buffer,e.firstChild),this.buffer=null},addItem:function(o,n){i(this,n?[]:["change"],function(){var e,t,i,a=this,r=a.settings.mode;o=k(o),-1===a.items.indexOf(o)?a.options.hasOwnProperty(o)&&("single"===r&&a.clear(n),"multi"===r&&a.isFull()||(e=w(a.render("item",a.options[o])),i=a.isFull(),a.items.splice(a.caretPos,0,o),a.insertAtCaret(e),a.isPending&&(i||!a.isFull())||a.refreshState(),a.isSetup&&(t=a.$dropdown_content.find("[data-selectable]"),a.isPending||(i=a.getOption(o),i=a.getAdjacentOption(i,1).attr("data-value"),a.refreshOptions(a.isFocused&&"single"!==r),i&&a.setActiveOption(a.getOption(i))),!t.length||a.isFull()?a.close():a.isPending||a.positionDropdown(),a.updatePlaceholder(),a.trigger("item_add",o,e),a.isPending||a.updateOriginalInput({silent:n})))):"single"===r&&a.close()})},removeItem:function(e,t){var i,a,r=this,o=e instanceof w?e:r.getItem(e);e=k(o.attr("data-value")),-1!==(i=r.items.indexOf(e))&&(o.remove(),o.hasClass("active")&&(a=r.$activeItems.indexOf(o[0]),r.$activeItems.splice(a,1)),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,t),i<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:t}),r.positionDropdown(),r.trigger("item_remove",e,o))},createItem:function(e,i){var a=this,r=a.caretPos;e=e||w.trim(a.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof i&&(i=!0),!a.canCreate(e))return o(),!1;a.lock();var t,n,s="function"==typeof a.settings.create?this.settings.create:function(e){var t={};return t[a.settings.labelField]=e,t[a.settings.valueField]=e,t},l=(n=!(t=function(e){if(a.unlock(),!e||"object"!=typeof e)return o();var t=k(e[a.settings.valueField]);if("string"!=typeof t)return o();a.setTextboxValue(""),a.addOption(e),a.setCaret(r),a.addItem(t),a.refreshOptions(i&&"single"!==a.settings.mode),o(e)}),function(){n||(n=!0,t.apply(this,arguments))}),e=s.apply(this,[e,l]);return void 0!==e&&l(e),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var e=this,t=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!w.isEmptyObject(e.options)).toggleClass("has-items",0<e.items.length),e.$control_input.data("grow",!t&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,i,a,r,o=this;if(e=e||{},1===o.tagType){for(a=[],t=0,i=o.items.length;t<i;t++)r=o.options[o.items[t]][o.settings.labelField]||"",a.push('<option value="'+s(o.items[t])+'" selected="selected">'+s(r)+"</option>");a.length||this.$input.attr("multiple")||a.push('<option value="" selected="selected"></option>'),o.$input.html(a.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(e.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){var e;this.settings.placeholder&&(e=this.$control_input,this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0}))},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.isBlurring||e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e[0].getBoundingClientRect().width,top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),i=e[0],e=this.buffer||this.$control[0];0===t?e.insertBefore(i,e.firstChild):e.insertBefore(i,e.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(e){var t,i,a,r,o,n=this,s=e&&8===e.keyCode?-1:1,l=d(n.$control_input[0]);if(n.$activeOption&&!n.settings.hideSelected&&(r=n.getAdjacentOption(n.$activeOption,-1).attr("data-value")),a=[],n.$activeItems.length){for(o=n.$control.children(".active:"+(0<s?"last":"first")),o=n.$control.children(":not(input)").index(o),0<s&&o++,t=0,i=n.$activeItems.length;t<i;t++)a.push(w(n.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(n.isFocused||"single"===n.settings.mode)&&n.items.length&&(s<0&&0===l.start&&0===l.length?a.push(n.items[n.caretPos-1]):0<s&&l.start===n.$control_input.val().length&&a.push(n.items[n.caretPos]));if(!a.length||"function"==typeof n.settings.onDelete&&!1===n.settings.onDelete.apply(n,[a]))return!1;for(void 0!==o&&n.setCaret(o);a.length;)n.removeItem(a.pop());return n.showInput(),n.positionDropdown(),n.refreshOptions(!0),r&&((r=n.getOption(r)).length&&n.setActiveOption(r)),!0},advanceSelection:function(e,t){var i,a,r,o=this;0!==e&&(o.rtl&&(e*=-1),r=0<e?"last":"first",i=d(o.$control_input[0]),o.isFocused&&!o.isInputHidden?(a=o.$control_input.val().length,(e<0?0!==i.start||0!==i.length:i.start!==a)||a||o.advanceCaret(e,t)):(r=o.$control.children(".active:"+r)).length&&(r=o.$control.children(":not(input)").index(r),o.setActiveItem(null),o.setCaret(0<e?r+1:r)))},advanceCaret:function(e,t){var i,a=this;0!==e&&(i=0<e?"next":"prev",a.isShiftDown?(i=a.$control_input[i]()).length&&(a.hideInput(),a.setActiveItem(i),t&&t.preventDefault()):a.setCaret(a.caretPos+e))},setCaret:function(e){var t=this;if(e="single"===t.settings.mode?t.items.length:Math.max(0,Math.min(t.items.length,e)),!t.isPending)for(var i,a=t.$control.children(":not(input)"),r=0,o=a.length;r<o;r++)i=w(a[r]).detach(),r<e?t.$control_input.before(i):t.$control.append(i);t.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var e=this,t=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),0==--$.count&&$.$testInput&&($.$testInput.remove(),$.$testInput=void 0),w(window).off(t),w(document).off(t),w(document.body).off(t),delete e.$input[0].selectize},render:function(e,t){var i,a,r="",o=!1,n=this;return"option"!==e&&"item"!==e||(o=!!(i=k(t[n.settings.valueField]))),o&&(l(n.renderCache[e])||(n.renderCache[e]={}),n.renderCache[e].hasOwnProperty(i))?n.renderCache[e][i]:(r=w(n.settings.render[e].apply(this,[t,s])),"option"===e||"option_create"===e?t[n.settings.disabledField]||r.attr("data-selectable",""):"optgroup"===e&&(a=t[n.settings.optgroupValueField]||"",r.attr("data-group",a),t[n.settings.disabledField]&&r.attr("data-disabled","")),"option"!==e&&"item"!==e||r.attr("data-value",i||""),o&&(n.renderCache[e][i]=r[0]),r[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return e.length&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),$.count=0,$.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},w.fn.selectize=function(a){function r(e,n){function s(e){return"string"==typeof(e=f&&e.attr(f))&&e.length?JSON.parse(e):null}function l(e,t){e=w(e);var i,a=k(e.val());(a||c.allowEmptyOption)&&(d.hasOwnProperty(a)?t&&((i=d[a][m])?w.isArray(i)?i.push(t):d[a][m]=[i,t]:d[a][m]=t):((i=s(e)||{})[p]=i[p]||e.text(),i[u]=i[u]||a,i[h]=i[h]||e.prop("disabled"),i[m]=i[m]||t,d[a]=i,o.push(i),e.is(":selected")&&n.items.push(a)))}var t,i,a,r,o=n.options,d={};for(n.maxItems=e.attr("multiple")?null:1,t=0,i=(r=e.children()).length;t<i;t++)"optgroup"===(a=r[t].tagName.toLowerCase())?function(e){var t,i,a,r,o;for((a=(e=w(e)).attr("label"))&&((r=s(e)||{})[g]=a,r[v]=a,r[h]=e.prop("disabled"),n.optgroups.push(r)),t=0,i=(o=w("option",e)).length;t<i;t++)l(o[t],a)}(r[t]):"option"===a&&l(r[t])}var o=w.fn.selectize.defaults,c=w.extend({},o,a),f=c.dataAttr,p=c.labelField,u=c.valueField,h=c.disabledField,m=c.optgroupField,g=c.optgroupLabelField,v=c.optgroupValueField;return this.each(function(){var e,t,i;this.selectize||(e=w(this),t=this.tagName.toLowerCase(),(i=e.attr("placeholder")||e.attr("data-placeholder"))||c.allowEmptyOption||(i=e.children('option[value=""]').text()),("select"===t?r:function(e,t){var i,a,r,o,n=e.attr(f);if(n)for(t.options=JSON.parse(n),i=0,a=t.options.length;i<a;i++)t.items.push(t.options[i][u]);else{e=w.trim(e.val()||"");if(c.allowEmptyOption||e.length){for(i=0,a=(r=e.split(c.delimiter)).length;i<a;i++)(o={})[p]=r[i],o[u]=r[i],t.options.push(o);t.items=r}}})(e,i={placeholder:i,options:[],optgroups:[],items:[]}),new $(e,w.extend(!0,{},o,i,a)))})},w.fn.selectize.defaults=$.defaults,w.fn.selectize.support={validity:y},$.define("drag_drop",function(e){if(!w.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');var a,t,i,r;"multi"===this.settings.mode&&((a=this).lock=(r=a.lock,function(){var e=a.$control.data("sortable");return e&&e.disable(),r.apply(a,arguments)}),a.unlock=(i=a.unlock,function(){var e=a.$control.data("sortable");return e&&e.enable(),i.apply(a,arguments)}),a.setup=(t=a.setup,function(){t.apply(this,arguments);var i=a.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:a.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=a.$activeItems?a.$activeItems.slice():null,t=[];i.children("[data-value]").each(function(){t.push(w(this).attr("data-value"))}),a.setValue(t),a.setActiveItem(e)}})}))}),$.define("dropdown_header",function(e){var t,i=this;e=w.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),i.setup=(t=i.setup,function(){t.apply(i,arguments),i.$dropdown_header=w(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)})}),$.define("optgroup_columns",function(n){var a,s=this;n=w.extend({equalizeWidth:!0,equalizeHeight:!0},n),this.getAdjacentOption=function(e,t){var i=e.closest("[data-group]").find("[data-selectable]"),t=i.index(e)+t;return 0<=t&&t<i.length?i.eq(t):w()},this.onKeyDown=(a=s.onKeyDown,function(e){var t,i;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?a.apply(this,arguments):(s.ignoreHover=!0,t=(i=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((t=(i=(i=37===e.keyCode?i.prev("[data-group]"):i.next("[data-group]")).find("[data-selectable]")).eq(Math.min(i.length-1,t))).length&&this.setActiveOption(t)))});function e(){var e,t,i,a,r,o=w("[data-group]",s.$dropdown_content);if((t=o.length)&&s.$dropdown_content.width()){if(n.equalizeHeight){for(e=i=0;e<t;e++)i=Math.max(i,o.eq(e).height());o.css({height:i})}n.equalizeWidth&&(r=s.$dropdown_content.innerWidth()-l(),a=Math.round(r/t),o.css({width:a}),1<t&&(a=r-a*(t-1),o.eq(t-1).css({width:a})))}}var l=function(){var e,t=l.width,i=document;return void 0===t&&((e=i.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,i.body.appendChild(e),t=l.width=e.offsetWidth-e.clientWidth,i.body.removeChild(e)),t};(n.equalizeHeight||n.equalizeWidth)&&(t.after(this,"positionDropdown",e),t.after(this,"refreshOptions",e))}),$.define("remove_button",function(e){var o,t,i,a,n;e=w.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),"single"!==this.settings.mode?(a=o=this,n='<a href="javascript:void(0)" class="'+(t=e).className+'" tabindex="-1" title="'+s(t.title)+'">'+t.label+"</a>",o.setup=(i=a.setup,function(){var r;t.append&&(r=a.settings.render.item,a.settings.render.item=function(e){return t=r.apply(o,arguments),i=n,a=t.search(/(<\/[^>]+>\s*)$/),t.substring(0,a)+i+t.substring(a);var t,i,a}),i.apply(o,arguments),o.$control.on("click","."+t.className,function(e){e.preventDefault(),a.isLocked||(e=w(e.currentTarget).parent(),a.setActiveItem(e),a.deleteSelection()&&a.setCaret(a.items.length))})})):function(r,t){t.className="remove-single";var i,o=r,n='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+s(t.title)+'">'+t.label+"</a>";r.setup=(i=o.setup,function(){var e,a;t.append&&(e=w(o.$input.context).attr("id"),w("#"+e),a=o.settings.render.item,o.settings.render.item=function(e){return t=a.apply(r,arguments),i=n,w("<span>").append(t).append(i);var t,i}),i.apply(r,arguments),r.$control.on("click","."+t.className,function(e){e.preventDefault(),o.isLocked||o.clear()})})}(this,e)}),$.define("restore_on_backspace",function(i){var a,e=this;i.text=i.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(a=e.onKeyDown,function(e){var t;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(t=this.caretPos-1)&&t<this.items.length?(t=this.options[this.items[t]],this.deleteSelection(e)&&(this.setTextboxValue(i.text.apply(this,[t])),this.refreshOptions(!0)),void e.preventDefault()):a.apply(this,arguments)})}),$}),jQuery(document).ready(function(a){function e(e,i){(e=e.find("[data-pafe-form-builder-select-autocomplete]")).length&&i.each(e,function(e,t){i(t).selectize({dropdownParent:"body"})})}a(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",e)}),a(document).on("elementor/popup/show",function(e,t,i){a(document).find(".dialog-widget [data-pafe-form-builder-select-autocomplete]").each(function(){var e='[data-id="'+a(this).closest("[data-id]").data("id")+'"]';a(this).selectize({dropdownParent:e})})})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.SignaturePad=t()}(this,function(){"use strict";function d(e,t,i){this.x=e,this.y=t,this.time=i||(new Date).getTime()}function a(e,t,i,a){this.startPoint=e,this.control1=t,this.control2=i,this.endPoint=a}function p(e,t){var i,a,r,o,n,s,l,d,c=this,t=t||{};function f(){d=!1===r.leading?0:Date.now(),l=null,s=i.apply(o,n),l||(o=n=null)}this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=(i=p.prototype._strokeUpdate,a=this.throttle,l=null,d=0,r=r||{},function(){var e=Date.now();d||!1!==r.leading||(d=e);var t=a-(e-d);return o=this,n=arguments,t<=0||a<t?(l&&(clearTimeout(l),l=null),d=e,s=i.apply(o,n),l||(o=n=null)):l||!1===r.trailing||(l=setTimeout(f,t)),s}):this._strokeMoveUpdate=p.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(c._mouseButtonDown=!0,c._strokeBegin(e))},this._handleMouseMove=function(e){c._mouseButtonDown&&c._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&c._mouseButtonDown&&(c._mouseButtonDown=!1,c._strokeEnd(e))},this._handleTouchStart=function(e){1===e.targetTouches.length&&(e=e.changedTouches[0],c._strokeBegin(e))},this._handleTouchMove=function(e){e.preventDefault();e=e.targetTouches[0];c._strokeMoveUpdate(e)},this._handleTouchEnd=function(e){e.target===c._canvas&&(e.preventDefault(),c._strokeEnd(e))},this.on()}return d.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},d.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},d.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},a.prototype.length=function(){for(var e=0,t=void 0,i=void 0,a=0;a<=10;a+=1){var r,o=a/10,n=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);0<a&&(r=n-t,o=s-i,e+=Math.sqrt(r*r+o*o)),t=n,i=s}return e},a.prototype._point=function(e,t,i,a,r){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*a*(1-e)*e*e+r*e*e*e},p.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},p.prototype.fromDataURL=function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=new Image,r=i.ratio||window.devicePixelRatio||1,o=i.width||this._canvas.width/r,n=i.height||this._canvas.height/r;this._reset(),a.src=e,a.onload=function(){t._ctx.drawImage(a,0,0,o,n)},this._isEmpty=!1},p.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var i=arguments.length,a=Array(1<i?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];return(t=this._canvas).toDataURL.apply(t,[e].concat(a))},p.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},p.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},p.prototype.isEmpty=function(){return this._isEmpty},p.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},p.prototype._strokeUpdate=function(e){var t=e.clientX,i=e.clientY,e=this._createPoint(t,i),t=this._data[this._data.length-1],i=t&&t[t.length-1],t=i&&e.distanceTo(i)<this.minDistance;i&&t||(t=(i=this._addPoint(e)).curve,i=i.widths,t&&i&&this._drawCurve(t,i.start,i.end),this._data[this._data.length-1].push({x:e.x,y:e.y,time:e.time,color:this.penColor}))},p.prototype._strokeEnd=function(e){var t,i=2<this.points.length,a=this.points[0];!i&&a&&this._drawDot(a),a&&(i=(t=this._data[this._data.length-1])[t.length-1],a.equals(i)||t.push({x:a.x,y:a.y,time:a.time,color:this.penColor})),"function"==typeof this.onEnd&&this.onEnd(e)},p.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},p.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},p.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},p.prototype._createPoint=function(e,t,i){var a=this._canvas.getBoundingClientRect();return new d(e-a.left,t-a.top,i||(new Date).getTime())},p.prototype._addPoint=function(e){var t=this.points;if(t.push(e),2<t.length){3===t.length&&t.unshift(t[0]);var i=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,e=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,i=new a(t[1],i,e,t[2]),e=this._calculateCurveWidths(i);return t.shift(),{curve:i,widths:e}}return{}},p.prototype._calculateCurveControlPoints=function(e,t,i){var a=e.x-t.x,r=e.y-t.y,o=t.x-i.x,n=t.y-i.y,s=(e.x+t.x)/2,l=(e.y+t.y)/2,e=(t.x+i.x)/2,i=(t.y+i.y)/2,r=Math.sqrt(a*a+r*r),n=Math.sqrt(o*o+n*n),r=n/(r+n),n=e+(s-e)*r,r=i+(l-i)*r,n=t.x-n,r=t.y-r;return{c1:new d(s+n,l+r),c2:new d(e+n,i+r)}},p.prototype._calculateCurveWidths=function(e){var t=e.startPoint,i=e.endPoint,e={start:null,end:null},i=this.velocityFilterWeight*i.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,t=this._strokeWidth(i);return e.start=this._lastWidth,e.end=t,this._lastVelocity=i,this._lastWidth=t,e},p.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},p.prototype._drawPoint=function(e,t,i){var a=this._ctx;a.moveTo(e,t),a.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1},p.prototype._drawCurve=function(e,t,i){var a=this._ctx,r=i-t,o=Math.floor(e.length());a.beginPath();for(var n=0;n<o;n+=1){var s=n/o,l=s*s,d=l*s,c=1-s,f=c*c,p=f*c,u=p*e.startPoint.x;u+=3*f*s*e.control1.x,u+=3*c*l*e.control2.x,u+=d*e.endPoint.x;p=p*e.startPoint.y;p+=3*f*s*e.control1.y,p+=3*c*l*e.control2.y,p+=d*e.endPoint.y;d=t+d*r;this._drawPoint(u,p,d)}a.closePath(),a.fill()},p.prototype._drawDot=function(e){var t=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,i),t.closePath(),t.fill()},p.prototype._fromData=function(e,t,i){for(var a=0;a<e.length;a+=1){var r=e[a];if(1<r.length)for(var o=0;o<r.length;o+=1){var n=r[o],s=new d(n.x,n.y,n.time),l=n.color;0===o?(this.penColor=l,this._reset(),this._addPoint(s)):o!==r.length-1&&(s=(n=this._addPoint(s)).curve,n=n.widths,s&&n&&t(s,n,l))}else this._reset(),i(r[0])}},p.prototype._toSVG=function(){var a=this,e=this._data,t=this._canvas,i=Math.max(window.devicePixelRatio||1,1),r=t.width/i,i=t.height/i,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"width",t.width),o.setAttributeNS(null,"height",t.height),this._fromData(e,function(e,t,i){var a=document.createElement("path");isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y)||(e="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3),a.setAttribute("d",e),a.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),a.setAttribute("stroke",i),a.setAttribute("fill","none"),a.setAttribute("stroke-linecap","round"),o.appendChild(a))},function(e){var t=document.createElement("circle"),i="function"==typeof a.dotSize?a.dotSize():a.dotSize;t.setAttribute("r",i),t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("fill",e.color),o.appendChild(t)});r='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+r+" "+i+'" width="'+r+'" height="'+i+'">',i=o.innerHTML;if(void 0===i){var n=document.createElement("dummy"),s=o.childNodes;n.innerHTML="";for(var l=0;l<s.length;l+=1)n.appendChild(s[l].cloneNode(!0));i=n.innerHTML}return"data:image/svg+xml;base64,"+btoa(r+i+"</svg>")},p.prototype.fromData=function(e){var i=this;this.clear(),this._fromData(e,function(e,t){return i._drawCurve(e,t.start,t.end)},function(e){return i._drawDot(e)}),this._data=e},p.prototype.toData=function(){return this._data},p}),function(){function e(e,s){(e=e.find("[data-pafe-signature] canvas")).length&&s.each(e,function(e,t){var i,a=new SignaturePad(t,{onEnd:function(){i=a.toDataURL("image/png")}}),r=s(t).closest("[data-pafe-signature]"),o=r.find("[data-pafe-signature-clear]"),n=r.find("[data-pafe-signature-export]");o.click(function(){a.clear(),i=a.toDataURL("image/png")}),n.click(function(){var e;a.isEmpty()?r.find(".elementor-field").val(""):(e=a.toDataURL(),r.find(".elementor-field").val(e))}),window.addEventListener("resize",function(){var e=Math.max(window.devicePixelRatio||1,1);t.width=t.offsetWidth*e,t.height=t.offsetHeight*e,t.getContext("2d").scale(e,e),a.fromDataURL(i)})})}jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",e)})}(),jQuery(document).ready(function(i){function e(){i(document).find("[data-pafe-signature] canvas").each(function(){var e=parseInt(i(this).css("max-width").replace("px","")),t=(parseInt(i(this).css("height").replace("px","")),parseInt(i(this).closest(".elementor-form-fields-wrapper").width()));0<t&&(t<e?i(this).attr("width",t):i(this).attr("width",e))})}e(),i(window).on("resize",function(){e()})}),jQuery(document).ready(function(e){});